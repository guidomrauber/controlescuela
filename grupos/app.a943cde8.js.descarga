(function(e){function a(a){for(var o,s,n=a[0],l=a[1],c=a[2],d=0,m=[];d<n.length;d++)s=n[d],i[s]&&m.push(i[s][0]),i[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(a);while(m.length)m.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var e,a=0;a<r.length;a++){for(var t=r[a],o=!0,n=1;n<t.length;n++){var l=t[n];0!==i[l]&&(o=!1)}o&&(r.splice(a--,1),e=s(s.s=t[0]))}return e}var o={},i={app:0},r=[];function s(a){if(o[a])return o[a].exports;var t=o[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=o,s.d=function(e,a,t){s.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)s.d(t,o,function(a){return e[a]}.bind(null,o));return t},s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,"a",a),a},s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},s.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var c=0;c<n.length;c++)a(n[c]);var u=l;r.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"034f":function(e,a,t){"use strict";var o=t("64a9"),i=t.n(o);i.a},"06f6":function(e,a,t){},"0a23":function(e,a,t){e.exports=t.p+"img/logo_izquierda.24ef046a.png"},"0ce0":function(e,a,t){e.exports=t.p+"img/checklist.8eb9eeb7.png"},"0e00":function(e,a,t){"use strict";var o=t("06f6"),i=t.n(o);i.a},"1d66":function(e,a,t){},"210e":function(e,a,t){},"2e30":function(e,a,t){},"382f":function(e,a,t){e.exports=t.p+"img/calendar.f289a10d.png"},"44b3":function(e,a,t){e.exports=t.p+"img/school.55403692.png"},4518:function(e,a,t){"use strict";var o=t("bbb6"),i=t.n(o);i.a},4678:function(e,a,t){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var a=r(e);return t(a)}function r(e){var a=o[e];if(!(a+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id="4678"},"50ab":function(e,a,t){e.exports=t.p+"img/person.3004e0e4.png"},"557a":function(e,a,t){},"56d7":function(e,a,t){"use strict";t.r(a);var o=t("ecee"),i=t("c074"),r=t("ad3d"),s=t("2b0e"),n=t("796a"),l=t.n(n),c=t("7bb1"),u=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"Site",attrs:{id:"app"}},[t("nav",{directives:[{name:"show",rawName:"v-show",value:e.deberiaMostrarMenu,expression:"deberiaMostrarMenu"}],staticClass:"navbar has-shadow is-warning",attrs:{role:"navigation","aria-label":"main navigation"}},[t("div",{staticClass:"navbar-brand"},[t("div",{staticClass:"navbar-item"},[t("a",{staticClass:"brand",on:{click:function(a){return e.navegarA("Index")}}},[t("div",{staticClass:"brand-icon"},[t("img",{attrs:{alt:"Control escolar",role:"presentation",src:e.rutaImagenLogo}})]),t("div",{staticClass:"brand-content"},[t("div",{staticClass:"brand-title"},[e._v("Control escolar")]),t("div",{staticClass:"brand-subtitle"},[e._v(e._s(e.nombreEscuela))])])])]),t("a",{staticClass:"navbar-burger burger",class:{"is-active":e.menuEstaActivo},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:e.intercambiarMenu}},[t("span",{attrs:{"aria-hidden":"true"}}),t("span",{attrs:{"aria-hidden":"true"}}),t("span",{attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"navbar-menu",class:{"is-active":e.menuEstaActivo},attrs:{id:"navbarBasicExample"}},[t("div",{staticClass:"navbar-start"},[t("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t("a",{staticClass:"navbar-link"},[t("b-icon",{attrs:{icon:"users"}}),e._v("  Grupos\n                    ")],1),t("div",{staticClass:"navbar-dropdown"},[t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("Grupos")}}},[e._v("Ver grupos")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("AgregarGrupo")}}},[e._v("Registrar grupo")])])]),t("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t("a",{staticClass:"navbar-link"},[t("b-icon",{attrs:{icon:"graduation-cap"}}),e._v("  Alumnos\n                    ")],1),t("div",{staticClass:"navbar-dropdown"},[t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("Alumnos")}}},[e._v("Ver Alumnos")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("AgregarAlumno")}}},[e._v("Registrar alumno")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("ReporteEdades")}}},[e._v("Reporte de edades")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("PasarAsistencia")}}},[e._v("Pasar asistencia")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("ReporteAsistencia")}}},[e._v("Reporte de asistencia")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("Pagos")}}},[e._v("Pagos")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("ReportePagos")}}},[e._v("Reporte de pagos")])])]),t("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t("a",{staticClass:"navbar-link"},[t("b-icon",{attrs:{icon:"chalkboard-teacher"}}),e._v("  Docentes\n                    ")],1),t("div",{staticClass:"navbar-dropdown"},[t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("MostrarDocentes")}}},[e._v("Ver Docentes")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("AgregarDocente")}}},[e._v("Registrar docente")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("MateriasDeDocentes")}}},[e._v("Materias de docentes")])])]),t("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t("a",{staticClass:"navbar-link"},[t("b-icon",{attrs:{icon:"th-list"}}),e._v("  Materias\n                    ")],1),t("div",{staticClass:"navbar-dropdown"},[t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("Materias")}}},[e._v("Ver Materias")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("AgregarMateria")}}},[e._v("Registrar materia")])])]),t("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t("a",{staticClass:"navbar-link"},[t("b-icon",{attrs:{icon:"star"}}),e._v("  Calificaciones\n                    ")],1),t("div",{staticClass:"navbar-dropdown"},[t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("AgregarPeriodo")}}},[e._v("Períodos")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("AgregarCalificaciones")}}},[e._v("Registrar calificaciones")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("CalificacionesDeAlumno")}}},[e._v("Gráficas de alumnos")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("BoletasDeAlumnos")}}},[e._v("Boletas de alumnos")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("BoletaTrasera")}}},[e._v("Boletas parte trasera")])])]),t("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t("a",{staticClass:"navbar-link"},[t("b-icon",{attrs:{icon:"clock"}}),e._v("  Horarios\n                    ")],1),t("div",{staticClass:"navbar-dropdown"},[t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("GenerarHorarios")}}},[e._v("Generar horarios")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("ImprimirHorarios")}}},[e._v("Ver Horarios por grupo")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("ImprimirHorariosDeDocentes")}}},[e._v("Ver Horarios por docente")])])]),t("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[t("a",{staticClass:"navbar-link"},[t("b-icon",{attrs:{icon:"users"}}),e._v("  Usuarios\n                    ")],1),t("div",{staticClass:"navbar-dropdown"},[t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("VerUsuarios")}}},[e._v("Ver usuarios")]),t("a",{staticClass:"navbar-item",on:{click:function(a){return e.navegarA("AgregarUsuario")}}},[e._v("Registrar usuario")]),t("div",{staticClass:"navbar-item"},[t("b-button",{staticClass:"button is-primary",attrs:{loading:e.cargando},on:{click:function(a){return e.cerrarSesion()}}},[t("p",{staticStyle:{display:"flex","align-items":"center"}},[e._v("\n                                    Salir ("+e._s(e.usuario.usuario)+")\n                                     \n                                    "),t("b-icon",{attrs:{size:"is-small",pack:"fas",icon:"sign-out-alt"}})],1)])],1)])])])])]),t("section",{staticClass:"section Site-content",staticStyle:{"padding-top":"0"}},[t("router-view")],1),e._m(0)])},d=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("footer",{staticStyle:{"margin-bottom":"10px"}},[t("div",{staticClass:" has-text-centered"},[t("p",[t("strong",[e._v("Control escolar")]),e._v(" creado y mantenido por\n                "),t("a",{attrs:{target:"_blank",href:"https://parzibyte.me/blog/"}},[e._v("Parzibyte")]),e._v(".\n            ")])])])}];const m="Nombre de escuela",p="New New York",h="DIRECTOR LUIS CABRERA",b="ASESOR LUIS CABRERA",v="08",g="SUPERVISOR LUIS CABRERA",f=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_RUTA_API||window.location.origin,_=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],C=[{etiqueta:"1 Primera",numero:1},{etiqueta:"2 Segunda",numero:2},{etiqueta:"3 Tercera",numero:3}],y=[{inicio:"8:00",fin:"8:30",esReceso:!1},{inicio:"8:30",fin:"9:00",esReceso:!1},{inicio:"9:00",fin:"9:30",esReceso:!1},{inicio:"9:30",fin:"10:00",esReceso:!1},{inicio:"10:00",fin:"10:30",esReceso:!1},{inicio:"10:30",fin:"11:00",esReceso:!1},{inicio:"11:00",fin:"11:30",esReceso:!1},{inicio:"11:30",fin:"12:00",esReceso:!1},{inicio:"12:00",fin:"12:30",esReceso:!1},{inicio:"12:30",fin:"13:00",esReceso:!1},{inicio:"13:00",fin:"13:30",esReceso:!1},{inicio:"13:30",fin:"14:00",esReceso:!1},{inicio:"14:00",fin:"14:30",esReceso:!1},{inicio:"14:30",fin:"15:00",esReceso:!1},{inicio:"15:00",fin:"15:30",esReceso:!1},{inicio:"15:30",fin:"16:00",esReceso:!1},{inicio:"16:00",fin:"16:30",esReceso:!1},{inicio:"16:30",fin:"17:00",esReceso:!1},{inicio:"17:00",fin:"17:30",esReceso:!1},{inicio:"17:30",fin:"18:00",esReceso:!1},{inicio:"18:00",fin:"18:30",esReceso:!1},{inicio:"18:30",fin:"19:00",esReceso:!1},{inicio:"19:00",fin:"19:30",esReceso:!1},{inicio:"19:30",fin:"20:00",esReceso:!1}],E=e=>`${e.etiqueta} (${e.fechaInicio} - ${e.fechaFin})`,S=(e,a)=>{return`${e.inicio.replace(":","")}${e.fin.replace(":","")}${a}`},A=["#EF5350","#BA68C8","#64B5F6","#A5D6A7","#C5E1A5","#E6EE9C","#FFF59D","#FFF176","#FFE082","#A1887F","#C5E1A5","#E6EE9C","#FFF59D","#FFE082","#FFCC80","#FFAB91"],D={post:(e,a)=>fetch(f+e,{credentials:"include",method:"POST",body:JSON.stringify(a)}).then(e=>e.json()),put:(e,a)=>fetch(f+e,{credentials:"include",method:"PUT",body:JSON.stringify(a)}).then(e=>e.json()),get:e=>fetch(f+e,{credentials:"include"}).then(e=>e.json()),delete:e=>fetch(f+e,{credentials:"include",method:"DELETE"}).then(e=>e.json())},k=["Do","Lu","Ma","Mi","Ju","Vi","Sá"],w=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],x=1,G=0,$=e=>{const a=e.getMonth()+1,t=e.getDate();return`${e.getFullYear()}-${(a<10?"0":"").concat(a)}-${(t<10?"0":"").concat(t)}`};var M=t("cf05"),O=t.n(M),P={beforeMount(){ei.$on("mostrarMenu",()=>{this.mostrarMenu()}),ei.$on("ocultarMenu",()=>{this.ocultarMenu()}),ei.$on("establecerUsuario",e=>{this.usuario=e})},name:"app",methods:{cerrarSesion(){this.$dialog.confirm({title:"Salir",message:"¿Está seguro de querer salir del sistema?",confirmText:"Salir",cancelText:"Quedarme",type:"is-warning",onConfirm:()=>{this.cargando=!0,D.get("/logout").then(e=>{this.cargando=!1,!0===e&&(ei.establecerUsuario({}),this.navegarA("Login"))})}})},intercambiarMenu(){this.menuEstaActivo=!this.menuEstaActivo},navegarA(e){this.$router.push({name:e}),this.menuEstaActivo=!1},ocultarMenu(){this.deberiaMostrarMenu=!1},mostrarMenu(){this.deberiaMostrarMenu=!0}},data:()=>({rutaImagenLogo:O.a,nombreEscuela:m,usuario:{},cargando:!1,menuEstaActivo:!1,deberiaMostrarMenu:!0})},R=P,j=(t("034f"),t("2877")),N=Object(j["a"])(R,u,d,!1,null,null,null),q=N.exports,F=t("8a03"),I=t.n(F),T=(t("5abe"),t("8c4f")),z=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-table",{attrs:{loading:e.cargandoGrupos,data:e.grupos},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{field:"id",label:"Opciones"}},[t("b-button",{attrs:{type:"is-warning"},on:{click:function(t){return e.editarGrupo(a.row.id)}}},[e._v("Editar")]),e._v(" \n                        "),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.eliminarGrupo(a.row.id)}}},[e._v("Eliminar")])],1)]}}])})],1)])])},U=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Grupos")])])])}],H={mounted(){this.obtenerGrupos()},data:()=>({cargandoGrupos:!1,grupos:[]}),methods:{editarGrupo(e){this.$router.push({name:"EditarGrupo",params:{id:e}})},eliminarGrupo(e){this.$dialog.confirm({title:"Eliminar grupo",message:"¿Está seguro? esto no se puede deshacer",confirmText:"Eliminar",cancelText:"Cancelar",type:"is-danger",onConfirm:()=>D.delete("/grupo/"+e).then(e=>{e?this.obtenerGrupos():this.$toast.open({message:"Error. Intenta más tarde",type:"is-danger"})})})},obtenerGrupos(){this.cargandoGrupos=!0,D.get("/grupos").then(e=>{this.grupos=e,this.cargandoGrupos=!1})}}},B=H,L=Object(j["a"])(B,z,U,!1,null,null,null),V=L.exports,Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Registrar grupo")]),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre del grupo",name:"nombre"},model:{value:e.nuevoGrupo.nombre,callback:function(a){e.$set(e.nuevoGrupo,"nombre",a)},expression:"nuevoGrupo.nombre"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarGrupo}},[e._v("Guardar")])],1)])},J=[],Q={data:()=>({nuevoGrupo:{nombre:""},cargando:!1}),methods:{intentarGuardarGrupo(){this.$validator.validate().then(e=>{e&&this.guardarGrupo()})},guardarGrupo(){this.cargando=!0,D.post("/grupo",this.nuevoGrupo).then(()=>{this.cargando=!1,this.nuevoGrupo.nombre="",this.$toast.open({message:"Grupo guardado correctamente",type:"is-success"})})}}},Z=Q,K=Object(j["a"])(Z,Y,J,!1,null,null,null),W=K.exports,X=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Editar grupo")]),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre del grupo",name:"nombre"},model:{value:e.grupoEditado.nombre,callback:function(a){e.$set(e.grupoEditado,"nombre",a)},expression:"grupoEditado.nombre"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarGrupo}},[e._v("Guardar")]),e._v(" \n        "),t("b-button",{attrs:{type:"is-warning"},on:{click:function(a){return e.volver()}}},[e._v("Volver")])],1)])},ee=[],ae={data:()=>({grupoEditado:{nombre:"",id:null},cargando:!1}),mounted(){this.obtenerDetallesDeGrupo()},methods:{obtenerDetallesDeGrupo(){let{id:e}=this.$route.params;return D.get("/grupo/"+e).then(e=>this.grupoEditado=e)},intentarGuardarGrupo(){this.$validator.validate().then(e=>{e&&this.guardarGrupo()})},guardarGrupo(){this.cargando=!0,D.put("/grupo",this.grupoEditado).then(()=>{this.cargando=!1,this.$toast.open({message:"Grupo guardado correctamente",type:"is-success"}),this.volver()})},volver(){this.$router.push({name:"Grupos"})}}},te=ae,oe=Object(j["a"])(te,X,ee,!1,null,null,null),ie=oe.exports,re=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-three-quarters"},[t("h2",{staticClass:"is-size-2"},[e._v("Registrar alumno")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"grupo",placeholder:"Seleccione un grupo",loading:e.cargandoGrupos},model:{value:e.nuevoAlumno.grupo.id,callback:function(a){e.$set(e.nuevoAlumno.grupo,"id",a)},expression:"nuevoAlumno.grupo.id"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})],2)],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre del alumno",name:"nombre"},model:{value:e.nuevoAlumno.nombre,callback:function(a){e.$set(e.nuevoAlumno,"nombre",a)},expression:"nuevoAlumno.nombre"}})],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"CURP"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|length:18",expression:"'required|length:18'"}],attrs:{placeholder:"CURP de alumno",name:"curp"},model:{value:e.nuevoAlumno.curp,callback:function(a){e.$set(e.nuevoAlumno,"curp",a)},expression:"nuevoAlumno.curp"}})],1)],1),t("b-field",{attrs:{grouped:""}},[t("b-field",{staticClass:"is-expanded",attrs:{label:"Matrícula"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],attrs:{placeholder:"Matrícula de alumno",name:"matricula"},model:{value:e.nuevoAlumno.matricula,callback:function(a){e.$set(e.nuevoAlumno,"matricula",a)},expression:"nuevoAlumno.matricula"}})],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Correo electrónico"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email|min:1",expression:"'required|email|min:1'"}],attrs:{placeholder:"Correo electrónico de alumno",name:"correo"},model:{value:e.nuevoAlumno.correo,callback:function(a){e.$set(e.nuevoAlumno,"correo",a)},expression:"nuevoAlumno.correo"}})],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Teléfono"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],attrs:{placeholder:"Teléfono de alumno",name:"telefono"},model:{value:e.nuevoAlumno.telefono,callback:function(a){e.$set(e.nuevoAlumno,"telefono",a)},expression:"nuevoAlumno.telefono"}})],1)],1),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Edad"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Edad del alumno",name:"edad",type:"number"},model:{value:e.nuevoAlumno.edad,callback:function(a){e.$set(e.nuevoAlumno,"edad",e._n(a))},expression:"nuevoAlumno.edad"}})],1),t("b-field",{attrs:{label:"Género"}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genero",placeholder:"Seleccione un género"},model:{value:e.nuevoAlumno.genero,callback:function(a){e.$set(e.nuevoAlumno,"genero",a)},expression:"nuevoAlumno.genero"}},[t("option",{attrs:{value:"M"}},[e._v("Masculino")]),t("option",{attrs:{value:"F"}},[e._v("Femenino")])])],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Dirección"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{type:"textarea",rows:"2",placeholder:"Dirección del alumno",name:"direccion"},model:{value:e.nuevoAlumno.direccion,callback:function(a){e.$set(e.nuevoAlumno,"direccion",a)},expression:"nuevoAlumno.direccion"}})],1)],1),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Nombre del tutor"}},[t("b-input",{attrs:{placeholder:"Nombre completo",name:"nombre_tutor"},model:{value:e.nuevoAlumno.tutor.nombre,callback:function(a){e.$set(e.nuevoAlumno.tutor,"nombre",a)},expression:"nuevoAlumno.tutor.nombre"}})],1),t("b-field",{attrs:{label:"Número del tutor"}},[t("b-input",{attrs:{placeholder:"Número telefónico",name:"numero_tutor",type:"number"},model:{value:e.nuevoAlumno.tutor.numeroTelefono,callback:function(a){e.$set(e.nuevoAlumno.tutor,"numeroTelefono",a)},expression:"nuevoAlumno.tutor.numeroTelefono"}})],1)],1),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{staticClass:"is-expanded",attrs:{label:"Registro de pagos"}},[t("b-input",{attrs:{placeholder:"Registro de pagos",type:"textarea",rows:"3"},model:{value:e.nuevoAlumno.pagos,callback:function(a){e.$set(e.nuevoAlumno,"pagos",a)},expression:"nuevoAlumno.pagos"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("br"),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarAlumno}},[e._v("Guardar")])],1)])},se=[],ne={data:()=>({nuevoAlumno:{nombre:"",curp:"",direccion:"",grupo:{id:null},tutor:{nombre:null,numeroTelefono:null}},cargando:!1,cargandoGrupos:!1,grupos:[]}),mounted(){this.obtenerGrupos()},methods:{obtenerGrupos(){return this.cargandoGrupos=!0,D.get("/grupos").then(e=>this.grupos=e).finally(this.cargandoGrupos=!1)},intentarGuardarAlumno(){this.$validator.validate().then(e=>{e&&this.guardarAlumno()})},guardarAlumno(){this.cargando=!0,D.post("/alumno",this.nuevoAlumno).then(()=>{this.cargando=!1,this.nuevoAlumno.pagos="",this.nuevoAlumno.nombre=null,this.nuevoAlumno.matricula=null,this.nuevoAlumno.correo=null,this.nuevoAlumno.telefono=null,this.nuevoAlumno.curp=null,this.nuevoAlumno.direccion=null,this.nuevoAlumno.tutor.nombre=null,this.nuevoAlumno.edad=null,this.nuevoAlumno.tutor.numeroTelefono=null,this.$toast.open({message:"Alumno guardado correctamente",type:"is-success"})})}}},le=ne,ce=Object(j["a"])(le,re,se,!1,null,null,null),ue=ce.exports,de=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Reporte de edades")]),t("b-field",{attrs:{grouped:""}},[t("b-field",{attrs:{label:"Fecha para cálculo"}},[t("b-datepicker",{attrs:{"day-names":e.calendario.dias,"month-names":e.calendario.meses,"first-day-of-week":0,placeholder:"Seleccione la fecha",icon:"calendar"},on:{input:e.onFechaCambiada},model:{value:e.fecha,callback:function(a){e.fecha=a},expression:"fecha"}})],1)],1),t("div",{staticClass:"table-wrapper",attrs:{id:"reporteGeneral"}},[t("h2",[e._v("Reporte general")]),t("p",{staticStyle:{"text-align":"center"}},[e._v("\n                A la fecha: "+e._s(e.fechaFormateada)+"\n                "),t("br"),t("a",{staticClass:"enlace-imprimir",on:{click:e.imprimirReporteGeneral}},[e._v("Imprimir")])]),t("table",{staticClass:"table has-mobile-cards"},[t("thead",[t("tr",[t("th",[e._v("Grupo")]),t("th",[e._v("Género")]),e._l(e.edades,function(a,o){return t("th",{key:o},[t("span","14"===o?[e._v("14 años o menos")]:"25"===o?[e._v("25 años o más")]:[e._v(e._s(o))])])})],2)]),t("tbody",[e._l(e.diccionario,function(a,o){return e._l(a,function(a,i){return t("tr",{key:o+""+i},["M"!=i&&a.grupo?e._e():t("td",{attrs:{rowspan:a.grupo?2:1}},[a.grupo?t("p",[e._v(e._s(a.grupo.nombre))]):e._e()]),t("td",[t("p","M"==i?[e._v("HOMBRES")]:"F"==i?[e._v("MUJERES")]:[e._v("SUBTOTAL")])]),a.edades?e._l(a.edades,function(a,o){return t("td",{key:o},[t("T"==i?"strong":"p",[e._v(e._s(a))])])}):e._e()],2)})}),t("tr",[e._m(0),e._l(e.diccionarioTotalReporte,function(a,o){return t("td",{key:o},[t("strong",[e._v(e._s(a))])])})],2)],2)])]),t("div",{staticClass:"table-wrapper",attrs:{id:"reporteDetallado"}},[t("h2",[e._v("Desglose de edades")]),t("p",{staticStyle:{"text-align":"center"}},[e._v("\n                A la fecha: "+e._s(e.fechaFormateada)+"\n                "),t("br"),t("a",{staticClass:"enlace-imprimir",on:{click:e.imprimirReporteDetallado}},[e._v("Imprimir")])]),t("table",{staticClass:"table has-mobile-cards"},[e._m(1),t("tbody",e._l(e.alumnos,function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.nombre))]),t("td",[e._v(e._s(a.grupo.nombre))]),t("td",[e._v(e._s("M"==a.genero?"HOMBRE":"MUJER"))]),t("td",[e._v(e._s(a.curp))]),t("td",[e._v(e._s(e.parsearCurp(a.curp).edad))])])}),0)])])],1)])},me=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("td",{attrs:{colspan:"2"}},[t("strong",[e._v("TOTAL")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("thead",[t("tr",[t("th",[e._v("Nombre")]),t("th",[e._v("Grupo")]),t("th",[e._v("Género")]),t("th",[e._v("CURP")]),t("th",[e._v("Edad a la fecha")])])])}];const pe={14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0};var he,be,ve={data:()=>({fecha:new Date,diccionario:{},edades:pe,cargando:!1,calendario:{dias:k,meses:w},diccionarioTotalReporte:pe,alumnos:[]}),mounted(){this.obtenerAlumnos()},computed:{fechaFormateada(){let e=new Date(this.fecha);return e.setHours(0,0,0,0),e.setMinutes(0),e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e.toISOString().split("T")[0]}},methods:{onFechaCambiada(){this.crearDiccionario()},crearDiccionario(){let e={};this.diccionarioTotalReporte=Object.assign({},pe),this.alumnos.forEach(a=>{let t=a.grupo.id;e[t]||(e[t]={M:{grupo:a.grupo,edades:Object.assign({},pe)},F:{grupo:a.grupo,edades:Object.assign({},pe)},T:{edades:Object.assign({},pe)}});let o=this.parsearCurp(a.curp).edad,i=o+"";o<=14?i="14":o>=25&&(i="25"),e[t]["T"]["edades"][i]++,this.diccionarioTotalReporte[i]++,e[t][a.genero]["edades"][i]++}),this.diccionario=e},imprimirReporteGeneral(){document.querySelectorAll("nav,input,.field,#titulo,#reporteDetallado,.is-size-2,.enlace-imprimir").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#reporteGeneral").classList.remove("oculto-impresion"),window.print()},imprimirReporteDetallado(){document.querySelectorAll("nav,input,.field,#titulo,#reporteGeneral,.is-size-2,.enlace-imprimir").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#reporteDetallado").classList.remove("oculto-impresion"),window.print()},obtenerAlumnos(){return this.cargando=!0,D.get("/alumnos").then(e=>{this.alumnos=e,this.crearDiccionario(),this.cargando=!1})},parsearCurp(e){if(!e||e.length<18)return{curp:e,edad:0};let a=e.substring(4,10),t=e.substr(16,1);a=this.esDigito(t)&&!this.esLetra(t)?"19"+a:"20"+a;let o=new Date(Date.UTC(Number(a.substr(0,4)),Number(a.substr(4,2))-1,Number(a.substr(6,2)),0,0,0,0));o.setHours(0);let i=new Date(this.fecha.getTime());i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0);let r=new Date(i-o).getFullYear()-1970;return{curp:e,edad:r}},esDigito(e){let a=e.charCodeAt(0);return a>47&&a<58},esLetra(e){let a=e.toUpperCase().charCodeAt(0);return a>64&&a<91}}},ge=ve,fe=(t("0e00"),Object(j["a"])(ge,de,me,!1,null,"7835ade4",null)),_e=fe.exports,Ce=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-three-quarters"},[t("h2",{staticClass:"is-size-2"},[e._v("Editar alumno")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"grupo",placeholder:"Seleccione un grupo",loading:e.cargandoGrupos},model:{value:e.alumno.grupo.id,callback:function(a){e.$set(e.alumno.grupo,"id",a)},expression:"alumno.grupo.id"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})],2)],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre del alumno",name:"nombre"},model:{value:e.alumno.nombre,callback:function(a){e.$set(e.alumno,"nombre",a)},expression:"alumno.nombre"}})],1),t("b-field",{attrs:{label:"CURP"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|length:18",expression:"'required|length:18'"}],attrs:{placeholder:"CURP del alumno",name:"curp",type:"text"},model:{value:e.alumno.curp,callback:function(a){e.$set(e.alumno,"curp",a)},expression:"alumno.curp"}})],1)],1),t("b-field",{attrs:{grouped:""}},[t("b-field",{staticClass:"is-expanded",attrs:{label:"Matrícula"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],attrs:{placeholder:"Matrícula de alumno",name:"matricula"},model:{value:e.alumno.matricula,callback:function(a){e.$set(e.alumno,"matricula",a)},expression:"alumno.matricula"}})],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Correo electrónico"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email|min:1",expression:"'required|email|min:1'"}],attrs:{placeholder:"Correo electrónico de alumno",name:"correo"},model:{value:e.alumno.correo,callback:function(a){e.$set(e.alumno,"correo",a)},expression:"alumno.correo"}})],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Teléfono"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:1",expression:"'required|min:1'"}],attrs:{placeholder:"Teléfono de alumno",name:"telefono"},model:{value:e.alumno.telefono,callback:function(a){e.$set(e.alumno,"telefono",a)},expression:"alumno.telefono"}})],1)],1),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Edad"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Edad del alumno",name:"edad",type:"number"},model:{value:e.alumno.edad,callback:function(a){e.$set(e.alumno,"edad",e._n(a))},expression:"alumno.edad"}})],1),t("b-field",{attrs:{label:"Género"}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"genero",placeholder:"Seleccione un género"},model:{value:e.alumno.genero,callback:function(a){e.$set(e.alumno,"genero",a)},expression:"alumno.genero"}},[t("option",{attrs:{value:"M"}},[e._v("Masculino")]),t("option",{attrs:{value:"F"}},[e._v("Femenino")])])],1),t("b-field",{staticClass:"is-expanded",attrs:{label:"Dirección"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{type:"textarea",rows:"2",placeholder:"Dirección del alumno",name:"direccion"},model:{value:e.alumno.direccion,callback:function(a){e.$set(e.alumno,"direccion",a)},expression:"alumno.direccion"}})],1)],1),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Nombre del tutor"}},[t("b-input",{attrs:{placeholder:"Nombre completo",name:"nombre_tutor"},model:{value:e.alumno.tutor.nombre,callback:function(a){e.$set(e.alumno.tutor,"nombre",a)},expression:"alumno.tutor.nombre"}})],1),t("b-field",{attrs:{label:"Número del tutor"}},[t("b-input",{attrs:{placeholder:"Número telefónico",name:"numero_tutor",type:"number"},model:{value:e.alumno.tutor.numeroTelefono,callback:function(a){e.$set(e.alumno.tutor,"numeroTelefono",a)},expression:"alumno.tutor.numeroTelefono"}})],1)],1),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{staticClass:"is-expanded",attrs:{label:"Registro de pagos"}},[t("b-input",{attrs:{placeholder:"Registro de pagos",type:"textarea",rows:"3"},model:{value:e.alumno.pagos,callback:function(a){e.$set(e.alumno,"pagos",a)},expression:"alumno.pagos"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("br"),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarAlumno}},[e._v("Guardar")]),e._v(" \n            "),t("b-button",{attrs:{type:"is-warning"},on:{click:function(a){return e.volver()}}},[e._v("Volver")])],1)])},ye=[],Ee={data:()=>({alumno:{id:null,nombre:"",direccion:"",curp:"",grupo:{id:null},tutor:{nombre:null,numeroTelefono:null}},cargando:!1,cargandoGrupos:!1,grupos:[]}),mounted(){this.obtenerGrupos().then(this.obtenerDetallesDeAlumno)},methods:{obtenerDetallesDeAlumno(){let{id:e}=this.$route.params;return D.get("/alumno/"+e).then(e=>this.alumno=e)},obtenerGrupos(){return this.cargandoGrupos=!0,D.get("/grupos").then(e=>this.grupos=e).finally(this.cargandoGrupos=!1)},intentarGuardarAlumno(){this.$validator.validate().then(e=>{e&&this.guardarAlumno()})},guardarAlumno(){this.cargando=!0,D.put("/alumno",this.alumno).then(()=>{this.cargando=!1,this.$toast.open({message:"Alumno guardado correctamente",type:"is-success"}),this.volver()})},volver(){this.$router.push({name:"Alumnos"})}}},Se=Ee,Ae=Object(j["a"])(Se,Ce,ye,!1,null,null,null),De=Ae.exports,ke=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Filtrar"}}),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-select",{attrs:{placeholder:"Por grupo",loading:e.cargandoGrupos},nativeOn:{change:function(a){return e.filtrar(a)}},model:{value:e.filtro.idGrupo,callback:function(a){e.$set(e.filtro,"idGrupo",a)},expression:"filtro.idGrupo"}},[t("option",{attrs:{value:""}},[e._v("-- Todos --")]),e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})],2),t("p",{staticClass:"control"},[t("b-input",{attrs:{placeholder:"Buscar por nombre"},model:{value:e.filtro.busqueda,callback:function(a){e.$set(e.filtro,"busqueda",a)},expression:"filtro.busqueda"}})],1),t("p",{staticClass:"control"},[t("b-button",{staticClass:"button is-primary",attrs:{loading:e.cargandoAlumnos},on:{click:e.filtrar}},[e._v("Buscar\n                    ")])],1)],1)],1)]),t("b-table",{attrs:{loading:e.cargandoAlumnos,data:e.alumnos},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{sortable:"",field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{sortable:"",field:"curp",label:"CURP"}},[e._v(e._s(a.row.curp))]),t("b-table-column",{attrs:{sortable:"",field:"genero",label:"Género"}},[e._v(e._s(a.row.genero))]),t("b-table-column",{attrs:{sortable:"",field:"edad",label:"Edad"}},[e._v(e._s(a.row.edad))]),t("b-table-column",{attrs:{sortable:"",field:"direccion",label:"Dirección"}},[e._v(e._s(a.row.direccion)+"\n            ")]),t("b-table-column",{attrs:{sortable:"",field:"matricula",label:"Matrícula"}},[e._v(e._s(a.row.matricula)+"\n            ")]),t("b-table-column",{attrs:{sortable:"",field:"correo",label:"Correo electrónico"}},[e._v(e._s(a.row.correo)+"\n            ")]),t("b-table-column",{attrs:{sortable:"",field:"telefono",label:"Teléfono"}},[e._v(e._s(a.row.telefono)+"\n            ")]),t("b-table-column",{attrs:{sortable:"",field:"tutor.nombre",label:"Tutor"}},[e._v(e._s(a.row.tutor.nombre)+"\n            ")]),t("b-table-column",{attrs:{sortable:"",field:"tutor.numeroTelefono",label:"Tel. Tutor"}},[e._v(e._s(a.row.tutor.numeroTelefono)+"\n            ")]),t("b-table-column",{attrs:{sortable:"",field:"grupo.nombre",label:"Grupo"}},[e._v(e._s(a.row.grupo.nombre)+"\n            ")]),t("b-table-column",{attrs:{label:"Pagos"}},[e._v(e._s(a.row.pagos)+"\n            ")]),t("b-table-column",{attrs:{field:"id",label:"Opciones"}},[t("b-button",{attrs:{type:"is-warning"},on:{click:function(t){return e.editarAlumno(a.row.id)}}},[e._v("Editar")]),e._v(" \n                "),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.eliminarAlumno(a.row.id)}}},[e._v("Eliminar")])],1)]}}])})],1)},we=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Alumnos")])])])}],xe={mounted(){this.obtenerGrupos().then(this.filtrar)},data:()=>({cargandoAlumnos:!1,cargandoGrupos:!1,grupos:[],alumnos:[],filtro:{idGrupo:null,busqueda:null}}),methods:{filtrar(){let e="/alumnos?";return this.filtro.idGrupo&&(e+="&idGrupo="+this.filtro.idGrupo.toString()),this.filtro.busqueda&&(e+="&busqueda="+encodeURIComponent(this.filtro.busqueda)),this.cargandoAlumnos=!0,D.get(e).then(e=>{this.alumnos=e,this.cargandoAlumnos=!1})},onGrupoCambiado(){this.idGrupo?this.obtenerAlumnosDeGrupo(this.idGrupo):this.obtenerAlumnos()},editarAlumno(e){this.$router.push({name:"EditarAlumno",params:{id:e}})},eliminarAlumno(e){this.$dialog.confirm({title:"Eliminar alumno",message:"¿Está seguro? esto no se puede deshacer",confirmText:"Eliminar",cancelText:"Cancelar",type:"is-danger",onConfirm:()=>D.delete("/alumno/"+e).then(e=>{e?this.obtenerAlumnos():this.$toast.open({message:"Error. Intenta más tarde",type:"is-danger"})})})},obtenerGrupos(){return this.cargandoGrupos=!0,D.get("/grupos").then(e=>{this.grupos=e,this.cargandoGrupos=!1})},obtenerAlumnos(){return this.cargandoAlumnos=!0,D.get("/alumnos").then(e=>{this.alumnos=e,this.cargandoAlumnos=!1})}}},Ge=xe,$e=Object(j["a"])(Ge,ke,we,!1,null,null,null),Me=$e.exports,Oe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Registrar materia")]),t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"grupo",placeholder:"Seleccione un grupo",loading:e.cargandoGrupos},model:{value:e.nuevaMateria.grupo.id,callback:function(a){e.$set(e.nuevaMateria.grupo,"id",a)},expression:"nuevaMateria.grupo.id"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})],2)],1),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre de materia",name:"nombre"},model:{value:e.nuevaMateria.nombre,callback:function(a){e.$set(e.nuevaMateria,"nombre",a)},expression:"nuevaMateria.nombre"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarMateria}},[e._v("Guardar")])],1)])},Pe=[],Re={data:()=>({grupos:[],nuevaMateria:{nombre:"",grupo:{id:null}},cargando:!1,cargandoGrupos:!1}),mounted(){this.obtenerGrupos()},methods:{intentarGuardarMateria(){this.$validator.validate().then(e=>{e&&this.guardarMateria()})},obtenerGrupos(){return D.get("/grupos").then(e=>this.grupos=e)},guardarMateria(){this.cargando=!0,D.post("/materia",this.nuevaMateria).then(()=>{this.cargando=!1,this.nuevaMateria.nombre="",this.$toast.open({message:"Materia guardada correctamente",type:"is-success"})})}}},je=Re,Ne=Object(j["a"])(je,Oe,Pe,!1,null,null,null),qe=Ne.exports,Fe=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-table",{attrs:{loading:e.cargandoMaterias,data:e.materias},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{field:"grupo.nombre",label:"Grupo"}},[e._v(e._s(a.row.grupo.nombre))]),t("b-table-column",{attrs:{field:"id",label:"Opciones"}},[t("b-button",{attrs:{type:"is-warning"},on:{click:function(t){return e.editarMateria(a.row.id)}}},[e._v("Editar")]),e._v(" \n                        "),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.eliminarMateria(a.row.id)}}},[e._v("Eliminar")])],1)]}}])})],1)])])},Ie=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Materias")])])])}],Te={mounted(){this.obtenerMaterias()},data:()=>({cargandoMaterias:!1,materias:[]}),methods:{editarMateria(e){this.$router.push({name:"EditarMateria",params:{id:e}})},eliminarMateria(e){this.$dialog.confirm({title:"Eliminar materia",message:"¿Está seguro? esto no se puede deshacer",confirmText:"Eliminar",cancelText:"Cancelar",type:"is-danger",onConfirm:()=>D.delete("/materia/"+e).then(e=>{e?this.obtenerMaterias():this.$toast.open({message:"Error. Intenta más tarde",type:"is-danger"})})})},obtenerMaterias(){this.cargandoMaterias=!0,D.get("/materias").then(e=>{this.materias=e,this.cargandoMaterias=!1})}}},ze=Te,Ue=Object(j["a"])(ze,Fe,Ie,!1,null,null,null),He=Ue.exports,Be=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Registrar materia")]),t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"grupo",placeholder:"Seleccione un grupo",loading:e.cargandoGrupos},model:{value:e.materiaEditada.grupo.id,callback:function(a){e.$set(e.materiaEditada.grupo,"id",a)},expression:"materiaEditada.grupo.id"}},e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])}),0)],1),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre de materia",name:"nombre"},model:{value:e.materiaEditada.nombre,callback:function(a){e.$set(e.materiaEditada,"nombre",a)},expression:"materiaEditada.nombre"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarMateria}},[e._v("Guardar")]),e._v(" \n        "),t("b-button",{attrs:{type:"is-warning"},on:{click:function(a){return e.volver()}}},[e._v("Volver")])],1)])},Le=[],Ve={data:()=>({grupos:[],materiaEditada:{nombre:"",grupo:{id:null}},cargando:!1,cargandoGrupos:!1}),mounted(){let{id:e}=this.$route.params;this.obtenerGrupos().then(this.obtenerDetallesDeMateria(e))},methods:{obtenerDetallesDeMateria(e){return D.get("/materia/"+e).then(e=>this.materiaEditada=e)},intentarGuardarMateria(){this.$validator.validate().then(e=>{e&&this.guardarMateria()})},obtenerGrupos(){return this.cargandoGrupos=!0,D.get("/grupos").then(e=>{this.grupos=e,this.cargandoGrupos=!1})},guardarMateria(){this.cargando=!0,D.put("/materia",this.materiaEditada).then(()=>{this.cargando=!1,this.$toast.open({message:"Materia guardada correctamente",type:"is-success"}),this.volver()})},volver(){this.$router.push({name:"Materias"})}}},Ye=Ve,Je=Object(j["a"])(Ye,Be,Le,!1,null,null,null),Qe=Je.exports,Ze=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h1",{staticClass:"is-size-2"},[e._v("Registrar período")]),t("b-field",{staticClass:"is-expanded",attrs:{label:"Etiqueta o descripción"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Descripción de período",name:"etiqueta"},model:{value:e.nuevoPeriodo.etiqueta,callback:function(a){e.$set(e.nuevoPeriodo,"etiqueta",a)},expression:"nuevoPeriodo.etiqueta"}})],1),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Fecha inicio"}},[t("b-datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"mobile-native":!1,name:"fecha-inicio","day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Seleccionar"},model:{value:e.nuevoPeriodo.fechaInicio,callback:function(a){e.$set(e.nuevoPeriodo,"fechaInicio",a)},expression:"nuevoPeriodo.fechaInicio"}},[t("button",{staticClass:"button is-primary",on:{click:function(a){e.nuevoPeriodo.fechaInicio=new Date}}},[t("b-icon",{attrs:{icon:"calendar-today"}}),t("span",[e._v("Hoy")])],1)])],1),t("b-field",{attrs:{label:"Fecha fin"}},[t("b-datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"mobile-native":!1,name:"fecha-fin","day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Seleccionar"},model:{value:e.nuevoPeriodo.fechaFin,callback:function(a){e.$set(e.nuevoPeriodo,"fechaFin",a)},expression:"nuevoPeriodo.fechaFin"}},[t("button",{staticClass:"button is-primary",on:{click:function(a){e.nuevoPeriodo.fechaFin=new Date}}},[t("b-icon",{attrs:{icon:"calendar-today"}}),t("span",[e._v("Hoy")])],1)])],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarPeriodo}},[e._v("Guardar")])],1)])},Ke=[],We={data:()=>({datepicker:{meses:w,dias:k},nuevoPeriodo:{etiqueta:null,fechaInicio:new Date,fechaFin:new Date},cargando:!1}),methods:{intentarGuardarPeriodo(){this.$validator.validate().then(e=>{e&&this.pedirConfirmacionParaGuardarPeriodo()})},pedirConfirmacionParaGuardarPeriodo(){this.$dialog.confirm({title:"Confirmación",message:"¿Realmente desea guardar el período? verifique los datos, pues más tarde no se pueden editar ni eliminar",confirmText:"Sí, guardar",cancelText:"Cancelar",type:"is-danger",onConfirm:this.guardarPeriodo})},guardarPeriodo(){this.cargando=!0;let e=Object.assign({},this.nuevoPeriodo);e.fechaInicio=e.fechaInicio.toISOString().split("T")[0],e.fechaFin=e.fechaFin.toISOString().split("T")[0],D.post("/periodo",e).then(()=>{this.cargando=!1,this.nuevoPeriodo.etiqueta="",this.$toast.open({message:"Período guardado correctamente",type:"is-success"})})}}},Xe=We,ea=Object(j["a"])(Xe,Ze,Ke,!1,null,null,null),aa=ea.exports,ta=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Registrar calificaciones")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:""}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"grupo",placeholder:"Seleccione un grupo",loading:e.cargandoGrupos},nativeOn:{change:function(a){return e.onGrupoEvaluacionOPeriodoCambiado(a)}},model:{value:e.calificaciones.grupo.id,callback:function(a){e.$set(e.calificaciones.grupo,"id",a)},expression:"calificaciones.grupo.id"}},e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])}),0)],1),t("b-field",{staticClass:"has-addons-right",attrs:{label:""}},[t("p",{staticClass:"control"},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"periodo",placeholder:"Período escolar",loading:e.cargandoPeriodos},nativeOn:{change:function(a){return e.onGrupoEvaluacionOPeriodoCambiado(a)}},model:{value:e.calificaciones.periodo.id,callback:function(a){e.$set(e.calificaciones.periodo,"id",a)},expression:"calificaciones.periodo.id"}},e._l(e.periodos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.fechaInicio)+" - "+e._s(a.fechaFin)+" ("+e._s(a.etiqueta)+")\n                        ")])}),0)],1),t("p",{staticClass:"control"},[t("b-tooltip",{attrs:{label:"Registrar período",position:"is-right"}},[t("b-button",{attrs:{type:"is-primary"},on:{click:e.agregarPeriodo}},[t("vue-fontawesome",{attrs:{icon:"plus"}})],1)],1)],1)]),t("b-field",{attrs:{label:""}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"evaluacion",placeholder:"Seleccione una evaluación",loading:e.cargandoGrupos},nativeOn:{change:function(a){return e.onGrupoEvaluacionOPeriodoCambiado(a)}},model:{value:e.calificaciones.evaluacion,callback:function(a){e.$set(e.calificaciones,"evaluacion",a)},expression:"calificaciones.evaluacion"}},e._l(e.evaluaciones,function(a,o){return t("option",{key:o,domProps:{value:a.numero}},[e._v(e._s(a.etiqueta)+" evaluación\n                    ")])}),0)],1),t("b-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBotonDeGuardado,expression:"puedeMostrarBotonDeGuardado"}],attrs:{label:"Guardar calificaciones",type:"is-success",position:"is-top"}},[t("b-button",{attrs:{loading:e.cargando,type:"is-success"},on:{click:e.guardarCalificaciones}},[e._v("Guardar")])],1)],1),t("div",{staticClass:"b-table",class:{"is-loading":e.cargando}},[t("div",{staticClass:"table-wrapper is-loading"},[t("table",{staticClass:"table has-mobile-cards loading"},[t("thead",[t("tr",[t("th",[e._v("Alumno")]),e._l(e.materias,function(a,o){return t("th",{key:o},[t("span",{staticStyle:{"word-break":"break-all"}},[e._v("\n              "+e._s(a.nombre))]),t("br"),t("b-button",{attrs:{size:"is-small",type:"is-primary"},on:{click:function(a){return e.moverMateriaALaIzquierda(o)}}},[t("b-icon",{attrs:{icon:"arrow-left"}})],1),e._v(" \n                            "),t("b-button",{attrs:{size:"is-small",type:"is-primary"},on:{click:function(a){return e.moverMateriaALaDerecha(o)}}},[t("b-icon",{attrs:{icon:"arrow-right"}})],1)],1)}),t("th",[e._v("Promedio")])],2)]),e.puedeMostrarTabla?t("tbody",e._l(e.alumnos,function(a,o){return t("tr",{key:o},[t("td",{attrs:{"data-label":"Alumno"}},[e._v(e._s(a.nombre))]),e._l(e.materias,function(a,i){return t("td",{key:i,attrs:{"data-label":a.nombre}},[t("b-field",[t("b-input",{attrs:{type:"number",min:"0",size:"is-small"},model:{value:e.calificaciones.tabla[o][i].calificacion,callback:function(a){e.$set(e.calificaciones.tabla[o][i],"calificacion",e._n(a))},expression:"calificaciones.tabla[indiceAlumnos][indiceOtraMateria].calificacion"}})],1)],1)}),t("td",{attrs:{"data-label":"Promedio"}},[t("strong",[e._v(e._s(e._f("numero")(e.promedio(o))))])])],2)}),0):e._e()])])])],1)])},oa=[],ia={data:()=>({grupos:[],evaluaciones:C,periodos:[],materias:[],alumnos:[],cargando:!1,cargandoGrupos:!1,cargandoPeriodos:!1,calificaciones:{periodo:{id:null},grupo:{id:null},evaluacion:null,tabla:[]},diccionarioCalificacionesExistentes:{}}),mounted(){this.obtenerGrupos().then(this.obtenerPeriodos),this.calificaciones.evaluacion=this.evaluaciones[0].numero},computed:{puedeMostrarTabla(){return this.calificaciones.tabla.length>0&&this.calificaciones.tabla[0].length>0&&this.materias.length&&this.alumnos.length&&!this.cargando},puedeMostrarBotonDeGuardado(){return this.materias.length&&this.alumnos.length}},methods:{moverMateriaALaIzquierda(e){if(e<=0)return;let a=this.materias[e];this.$set(this.materias,e,this.materias[e-1]),this.$set(this.materias,e-1,a),this.calificaciones.tabla.forEach((a,t)=>{let o=this.calificaciones.tabla[t][e];this.$set(this.calificaciones.tabla[t],e,this.calificaciones.tabla[t][e-1]),this.$set(this.calificaciones.tabla[t],e-1,o)})},moverMateriaALaDerecha(e){if(e>=this.materias.length-1)return;let a=this.materias[e];this.$set(this.materias,e,this.materias[e+1]),this.$set(this.materias,e+1,a),this.calificaciones.tabla.forEach((a,t)=>{let o=this.calificaciones.tabla[t][e];this.$set(this.calificaciones.tabla[t],e,this.calificaciones.tabla[t][e+1]),this.$set(this.calificaciones.tabla[t],e+1,o)})},promedio(e){if(!this.calificaciones.tabla[e])return{};let a=0,t=this.calificaciones.tabla[e].length;for(let o=0;o<t;o++)a+=this.calificaciones.tabla[e][o].calificacion||0;return a/t},onGrupoEvaluacionOPeriodoCambiado(){if(!this.calificaciones.periodo.id||!this.calificaciones.grupo.id||!this.calificaciones.evaluacion)return;this.cargando=!0,this.calificaciones.tabla=[];let e=this.calificaciones.grupo.id,a=this.calificaciones.periodo.id,t=this.calificaciones.evaluacion;this.obtenerCalificaciones(e,a,t).then(()=>this.obtenerMateriasYAlumnos(e)).then(()=>this.cargando=!1)},leerDeDiccionario(e,a){return this.diccionarioCalificacionesExistentes[e]&&this.diccionarioCalificacionesExistentes[e][a]||0},obtenerMateriasYAlumnos(e){this.obtenerMateriasDeGrupo(e).then(()=>this.obtenerAlumnosDeGrupo(e)).then(()=>{for(let e=0;e<this.alumnos.length;e++){let a=Array.from(Array(this.materias.length));for(let t=0;t<this.materias.length;t++)a[t]=Object.assign({},{calificacion:this.leerDeDiccionario(this.alumnos[e].id,this.materias[t].id),idMateria:this.materias[t].id,idAlumno:this.alumnos[e].id});this.calificaciones.tabla.push(Array.from(a))}})},agregarPeriodo(){this.$router.push({name:"AgregarPeriodo"})},intentarGuardarCalificaciones(){this.$validator.validate().then(e=>{e&&this.guardarCalificaciones()})},obtenerCalificaciones(e,a,t){return D.get(`/calificaciones?idPeriodo=${a}&idGrupo=${e}&numeroEvaluacion=${t}`).then(e=>{let a={};e.forEach(e=>{a[e.idAlumno]=a[e.idAlumno]||{},a[e.idAlumno][e.idMateria]=e.calificacion}),this.diccionarioCalificacionesExistentes=a})},obtenerIdParaLocalStorage(){return this.calificaciones.grupo.id.toString().concat(this.calificaciones.periodo.id)},guardarOrdenDeMaterias(){let e=this.obtenerIdParaLocalStorage();localStorage.setItem(e,JSON.stringify(this.materias))},obtenerOrdenDeMaterias(){let e=this.obtenerIdParaLocalStorage(),a=localStorage.getItem(e);return a?JSON.parse(a):null},obtenerMateriasDeGrupo(e){return D.get("/materias/de/"+e).then(e=>{let a=this.obtenerOrdenDeMaterias();this.materias=a||e})},obtenerAlumnosDeGrupo(e){return D.get("/alumnos?idGrupo="+e).then(e=>this.alumnos=e)},obtenerGrupos(){return this.cargandoGrupos=!0,D.get("/grupos").then(e=>{this.grupos=e,this.cargandoGrupos=!1})},obtenerPeriodos(){return this.cargandoPeriodos=!0,D.get("/periodos").then(e=>{this.periodos=e,this.cargandoPeriodos=!1})},guardarCalificaciones(){const e={idPeriodo:this.calificaciones.periodo.id,numeroEvaluacion:this.calificaciones.evaluacion,idGrupo:this.calificaciones.grupo.id,calificaciones:Array.prototype.concat.apply([],this.calificaciones.tabla)};this.cargando=!0,D.post("/calificaciones",e).then(()=>{this.cargando=!1,this.guardarOrdenDeMaterias(),this.$toast.open({message:"Calificaciones guardadas correctamente",type:"is-success"})})}}},ra=ia,sa=Object(j["a"])(ra,ta,oa,!1,null,null,null),na=sa.exports,la=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-one-quarter"},[t("b-field",{attrs:{label:"Alumno"}},[t("b-select",{attrs:{placeholder:"Seleccione un alumno",loading:e.cargando,disabled:e.cargando},nativeOn:{change:function(a){return e.onPeriodosOAlumnoCambiados(a)}},model:{value:e.idAlumnoSeleccionado,callback:function(a){e.idAlumnoSeleccionado=a},expression:"idAlumnoSeleccionado"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.alumnos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})],2)],1),t("b-field",{attrs:{label:"Evaluación"}},[t("b-select",{attrs:{placeholder:"Seleccione una evaluación",loading:e.cargando,disabled:e.cargando},nativeOn:{change:function(a){return e.onPeriodosOAlumnoCambiados(a)}},model:{value:e.numeroEvaluacionSeleccionada,callback:function(a){e.numeroEvaluacionSeleccionada=a},expression:"numeroEvaluacionSeleccionada"}},e._l(e.evaluaciones,function(a,o){return t("option",{key:o,domProps:{value:a.numero}},[e._v(e._s(a.etiqueta)+" evaluación\n                    ")])}),0)],1),t("b-field",{attrs:{label:"Período"}},[t("b-select",{attrs:{multiple:"",placeholder:"Seleccione un período",loading:e.cargando,disabled:e.cargando},nativeOn:{change:function(a){return e.onPeriodosOAlumnoCambiados(a)}},model:{value:e.periodosSeleccionados,callback:function(a){e.periodosSeleccionados=a},expression:"periodosSeleccionados"}},e._l(e.periodos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(e.leyendaDePeriodo(a))+"\n                    ")])}),0)],1),t("b-field",{attrs:{label:"Imprimir gráfica"}},[t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.imprimirGrafica}},[e._v("Imprimir")])],1)],1),t("div",{staticClass:"column",attrs:{id:"grafica"}},[t("GraficaPeriodosAlumno",{ref:"graficaPeriodos",attrs:{datasets:e.grafica.datasets,labels:e.grafica.labels,title:e.grafica.title}})],1)])])},ca=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Calificaciones de alumno por períodos")])])])}],ua=t("1fca"),da={props:["labels","datasets","title"],extends:ua["a"],methods:{dibujarGrafica(){this.$nextTick(()=>{this.$data._chart&&(this.$data._chart.clear(),this.$data._chart.destroy()),this.renderChart({labels:this.labels,datasets:this.datasets},{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{display:!0,ticks:{beginAtZero:!0}}]},title:{text:this.title,display:!0}})})}}},ma=da,pa=Object(j["a"])(ma,he,be,!1,null,null,null),ha=pa.exports,ba={components:{GraficaPeriodosAlumno:ha},data:()=>({numeroEvaluacionSeleccionada:C[0].numero,evaluaciones:C,idAlumnoSeleccionado:"",alumnos:[],periodos:[],periodosSeleccionados:[],cargando:!1,grafica:{labels:[],datasets:[],contador:0,title:""}}),mounted(){this.cargando=!0,this.obtenerAlumnos().then(this.obtenerPeriodos).then(()=>this.cargando=!1)},methods:{imprimirGrafica(){document.querySelectorAll("nav,input,.field,h1,h2,h3,h4,.column").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#grafica").classList.remove("oculto-impresion"),window.print()},leyendaDePeriodo:E,onPeriodosOAlumnoCambiados(){if(!this.idAlumnoSeleccionado||!this.periodosSeleccionados.length)return;this.grafica.contador=0,this.grafica.datasets=[],this.grafica.title=`Calificaciones de ${this.alumnos.find(e=>e.id==this.idAlumnoSeleccionado).nombre}`;let e=this.periodosSeleccionados.length,a=0;this.cargando=!0,this.periodosSeleccionados.forEach(t=>{this.obtenerCalificacionesDeAlumnoPorPeriodo(t).then(t=>{this.grafica.labels=t.labels,this.grafica.datasets.push(t.dataset),a++,a>=e&&(this.$refs.graficaPeriodos.dibujarGrafica(),this.cargando=!1)})})},obtenerAlumnos(){return D.get("/alumnos").then(e=>this.alumnos=e)},obtenerPeriodos(){return D.get("/periodos").then(e=>this.periodos=e)},obtenerCalificacionesDeAlumnoPorPeriodo(e){return D.get(`/calificaciones/alumno?idAlumno=${this.idAlumnoSeleccionado}&idPeriodo=${e}&numeroEvaluacion=${this.numeroEvaluacionSeleccionada}`).then(a=>{this.grafica.contador++;let t=[],o=[];a.forEach(e=>{t.push(e.materia.nombre),o.push(e.calificacion)});let i={label:this.leyendaDePeriodo(this.periodos.find(a=>a.id==e)),backgroundColor:A[this.grafica.contador],data:o};return this.grafica.labels=t,{labels:t,dataset:i}})}}},va=ba,ga=Object(j["a"])(va,la,ca,!1,null,null,null),fa=ga.exports,_a=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Alumno"}},[t("b-select",{attrs:{placeholder:"Seleccione un alumno",loading:e.cargando},nativeOn:{change:function(a){return e.onPeriodosOAlumnoCambiados(a)}},model:{value:e.idAlumnoSeleccionado,callback:function(a){e.idAlumnoSeleccionado=a},expression:"idAlumnoSeleccionado"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.alumnos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre)+"\n                        ")])})],2)],1),t("b-field",{attrs:{label:"Período"}},[t("b-select",{attrs:{placeholder:"Seleccione un período",loading:e.cargando},nativeOn:{change:function(a){return e.onPeriodosOAlumnoCambiados(a)}},model:{value:e.idPeriodoSeleccionado,callback:function(a){e.idPeriodoSeleccionado=a},expression:"idPeriodoSeleccionado"}},e._l(e.periodos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(e.leyendaDePeriodo(a))+"\n                        ")])}),0)],1),t("b-field",{attrs:{label:"Número de evaluación"}},[t("b-select",{attrs:{placeholder:"Seleccione una evaluación",loading:e.cargando},nativeOn:{change:function(a){return e.onPeriodosOAlumnoCambiados(a)}},model:{value:e.numeroEvaluacion,callback:function(a){e.numeroEvaluacion=a},expression:"numeroEvaluacion"}},e._l(e.evaluaciones,function(a,o){return t("option",{key:o,domProps:{value:a.numero}},[e._v(e._s(a.etiqueta)+" evaluación\n                        ")])}),0)],1),t("b-field",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBoleta,expression:"puedeMostrarBoleta"}],attrs:{label:"Número de boleta"}},[t("b-numberinput",{attrs:{size:"is-small",editable:!1,min:"1",max:"3"},model:{value:e.numeroBoleta,callback:function(a){e.numeroBoleta=e._n(a)},expression:"numeroBoleta"}})],1),t("b-field",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBoleta,expression:"puedeMostrarBoleta"}],attrs:{label:"¿Imprimir encabezado?"}},[t("b-checkbox",{attrs:{value:!0,type:"is-success"},model:{value:e.imprimirEncabezado,callback:function(a){e.imprimirEncabezado=a},expression:"imprimirEncabezado"}},[e._v(e._s(e.imprimirEncabezado?"Sí":"No")+"\n                    ")])],1),t("b-field",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBoleta,expression:"puedeMostrarBoleta"}],attrs:{label:"."}},[t("b-tooltip",{attrs:{label:"Imprimir boleta",type:"is-primary",position:"is-top"}},[t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.imprimirBoleta}},[e._v("Imprimir")])],1)],1)],1)],1)]),e.puedeMostrarBoleta?t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("div",{attrs:{id:"contenedorBoleta"}},[t("div",{style:{visibility:e.imprimirEncabezado?"visible":"hidden"}},[t("Encabezado"),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("p",[t("strong",[e._v("ALUMNO:")]),e._v("\n                                "+e._s(e._f("mayusculas")(e.alumnoSeleccionado))+"\n                            ")])])])],1),e._l(3,function(a){return t("div",{key:a,staticStyle:{"margin-bottom":"10px"},style:{visibility:e.numeroBoleta==a?"visible":"hidden"}},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("p",[t("strong",[e._v("PERÍODO:")]),e._v("\n                                "+e._s(e._f("mayusculas")(e.periodoSeleccionado))+"\n                            ")])])]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("table",[t("thead",[t("tr",[t("th",[e._v("MATERIA")]),t("th",[e._v("\n                                        Ev "+e._s(e.numeroEvaluacion)+"\n                                    ")])])]),t("tbody",e._l(e.calificaciones,function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.materia.nombre))]),t("td",[e._v(e._s(e._f("numero")(a.calificacion)))])])}),0),t("tfoot",[t("tr",[e._m(1,!0),t("td",[t("strong",[e._v(e._s(e._f("numero")(e.promedio)))])])])])])])])])})],2)])]):e._e()])},Ca=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Boletas de alumnos")])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("td",[t("strong",[e._v("PROMEDIO")])])}],ya=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns",staticStyle:{margin:"0"}},[t("div",{staticClass:"column is-one-fifth has-text-centered"},[t("img",{attrs:{src:e.ImagenIzquierda}})]),e._m(0),t("div",{staticClass:"column is-one-fifth has-text-centered"},[t("img",{attrs:{src:e.ImagenIzquierda}})])])},Ea=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"column has-text-centered",staticStyle:{"text-transform":"uppercase"}},[t("p",[e._v("\n            este es un encabezado\n            "),t("br"),e._v("que puede tener\n            "),t("br"),e._v("muchas líneas\n            "),t("br"),t("strong",[e._v("Y estilos")]),t("br"),e._v("\n            etcétera"),t("br")])])}],Sa=t("0a23"),Aa=t.n(Sa),Da={data:()=>({ImagenIzquierda:Aa.a})},ka=Da,wa=(t("6071"),Object(j["a"])(ka,ya,Ea,!1,null,"270664e8",null)),xa=wa.exports,Ga={components:{Encabezado:xa},data:()=>({numeroBoleta:1,imprimirEncabezado:!0,evaluaciones:C,numeroEvaluacion:C[0].numero,cargando:!1,idAlumnoSeleccionado:null,idPeriodoSeleccionado:null,periodos:[],alumnos:[],calificaciones:[],calificacionesT:{},sumatorias:{},sumaTotal:0}),mounted(){this.cargando=!0,this.obtenerAlumnos().then(this.obtenerPeriodos).then(()=>this.cargando=!1)},computed:{promedioFinal(){return this.sumaTotal/this.evaluaciones.length},puedeMostrarBoleta(){return this.idAlumnoSeleccionado&&this.idPeriodoSeleccionado&&this.calificaciones.length},promedio(){if(this.calificaciones.length<=0)return 0;let e=0;return this.calificaciones.forEach(a=>e+=a.calificacion),e/this.calificaciones.length},alumnoSeleccionado(){return this.idAlumnoSeleccionado?(this.alumnos.find(e=>e.id==this.idAlumnoSeleccionado)||{}).nombre:""},periodoSeleccionado(){if(!this.idPeriodoSeleccionado)return{};let e=this.periodos.find(e=>e.id==this.idPeriodoSeleccionado);return this.leyendaDePeriodo(e)}},methods:{imprimirBoleta(){document.querySelectorAll("nav,input,.field,h1,h2").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#contenedorBoleta").classList.remove("oculto-impresion"),window.print()},leyendaDePeriodo:E,onPeriodosOAlumnoCambiados(){this.idAlumnoSeleccionado&&this.idPeriodoSeleccionado&&this.obtenerCalificacionesDeAlumnoPorPeriodo()},obtenerAlumnos(){return D.get("/alumnos").then(e=>this.alumnos=e)},obtenerPeriodos(){return D.get("/periodos").then(e=>this.periodos=e)},obtenerCalificacionesDeAlumnoPorPeriodo(){return this.cargando=!0,D.get(`/calificaciones/alumno?idAlumno=${this.idAlumnoSeleccionado}&idPeriodo=${this.idPeriodoSeleccionado}&numeroEvaluacion=${this.numeroEvaluacion}`).then(e=>{this.calificaciones=e,this.cargando=!1})}}},$a=Ga,Ma=(t("4518"),Object(j["a"])($a,_a,Ca,!1,null,"33b6c376",null)),Oa=Ma.exports,Pa=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Registrar docente")]),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre del docente",name:"nombre"},model:{value:e.nuevoDocente.nombre,callback:function(a){e.$set(e.nuevoDocente,"nombre",a)},expression:"nuevoDocente.nombre"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarDocente}},[e._v("Guardar")])],1)])},Ra=[],ja={data:()=>({nuevoDocente:{nombre:""},cargando:!1}),methods:{intentarGuardarDocente(){this.$validator.validate().then(e=>{e&&this.guardarDocente()})},guardarDocente(){this.cargando=!0,D.post("/docente",this.nuevoDocente).then(()=>{this.cargando=!1,this.nuevoDocente.nombre="",this.$toast.open({message:"Docente guardado correctamente",type:"is-success"})})}}},Na=ja,qa=Object(j["a"])(Na,Pa,Ra,!1,null,null,null),Fa=qa.exports,Ia=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-table",{attrs:{loading:e.cargandoDocentes,data:e.docentes},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{field:"id",label:"Opciones"}},[t("b-button",{attrs:{type:"is-warning"},on:{click:function(t){return e.editarDocente(a.row.id)}}},[e._v("Editar")]),e._v(" \n                        "),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.eliminarDocente(a.row.id)}}},[e._v("Eliminar")])],1)]}}])})],1)])])},Ta=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Docentes")])])])}],za={mounted(){this.obtenerDocentes()},data:()=>({cargandoDocentes:!1,docentes:[]}),methods:{editarDocente(e){this.$router.push({name:"EditarDocente",params:{id:e}})},eliminarDocente(e){this.$dialog.confirm({title:"Eliminar docente",message:"¿Está seguro? esto no se puede deshacer",confirmText:"Eliminar",cancelText:"Cancelar",type:"is-danger",onConfirm:()=>D.delete("/docente/"+e).then(e=>{e?this.obtenerDocentes():this.$toast.open({message:"Error. Intenta más tarde",type:"is-danger"})})})},obtenerDocentes(){this.cargandoDocentes=!0,D.get("/docentes").then(e=>{this.docentes=e,this.cargandoDocentes=!1})}}},Ua=za,Ha=Object(j["a"])(Ua,Ia,Ta,!1,null,null,null),Ba=Ha.exports,La=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Editar docente")]),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre del docente",name:"nombre"},model:{value:e.docenteEditado.nombre,callback:function(a){e.$set(e.docenteEditado,"nombre",a)},expression:"docenteEditado.nombre"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarDocente}},[e._v("Guardar")]),e._v(" \n        "),t("b-button",{attrs:{type:"is-warning"},on:{click:function(a){return e.volver()}}},[e._v("Volver")])],1)])},Va=[],Ya={data:()=>({docenteEditado:{nombre:"",id:null},cargando:!1}),mounted(){this.obtenerDetallesDeDocente()},methods:{obtenerDetallesDeDocente(){let{id:e}=this.$route.params;return D.get("/docente/"+e).then(e=>this.docenteEditado=e)},intentarGuardarDocente(){this.$validator.validate().then(e=>{e&&this.guardarDocente()})},guardarDocente(){this.cargando=!0,D.put("/docente",this.docenteEditado).then(()=>{this.cargando=!1,this.$toast.open({message:"Docente guardado correctamente",type:"is-success"}),this.volver()})},volver(){this.$router.push({name:"MostrarDocentes"})}}},Ja=Ya,Qa=Object(j["a"])(Ja,La,Va,!1,null,null,null),Za=Qa.exports,Ka=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Materias de docentes")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:""}},[t("b-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"docente",placeholder:"Seleccione un docente",loading:e.cargandoDocentes},nativeOn:{change:function(a){return e.onDocenteCambiado(a)}},model:{value:e.idDocenteSeleccionado,callback:function(a){e.idDocenteSeleccionado=a},expression:"idDocenteSeleccionado"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.docentes,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre)+"\n                        ")])})],2)],1),t("b-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBotonDeGuardado,expression:"puedeMostrarBotonDeGuardado"}],attrs:{label:"Guardar materias",type:"is-primary",position:"is-top"}},[t("b-button",{attrs:{loading:e.cargandoMaterias,type:"is-primary"},on:{click:e.intentarGuardarMaterias}},[e._v("Guardar\n                    ")])],1)],1)],1)]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h3",{staticClass:"is-size-3"},[e._v("Asignadas")]),t("b-table",{attrs:{loading:e.cargandoMaterias||e.cargandoDocentes,data:e.materiasAsignadas},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{field:"id",label:"Opciones"}},[t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.quitarMateria(a.index)}}},[t("b-icon",{attrs:{pack:"fas",icon:"times-circle"}})],1)],1)]}}])})],1),t("div",{staticClass:"column is-half"},[t("h3",{staticClass:"is-size-3"},[e._v("Disponibles")]),t("b-table",{attrs:{loading:e.cargandoMaterias||e.cargandoDocentes,data:e.materiasDisponibles},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{field:"id",label:"Opciones"}},[t("b-button",{attrs:{type:"is-success"},on:{click:function(t){return e.asignarMateria(a.row)}}},[t("b-icon",{attrs:{icon:"plus-circle"}})],1)],1)]}}])})],1)])])},Wa=[],Xa={data:()=>({docentes:[],idDocenteSeleccionado:null,cargandoDocentes:!1,cargandoMaterias:!1,materiasAsignadas:[],materiasDisponibles:[]}),mounted(){this.obtenerDocentes()},computed:{puedeMostrarBotonDeGuardado(){return this.idDocenteSeleccionado}},methods:{asignarMateria(e){this.materiasAsignadas.push(Object.assign({},e)),this.quitarMateriasYaAsignadas()},quitarMateria(e){this.materiasDisponibles.push(Object.assign({},this.materiasAsignadas[e])),this.materiasAsignadas.splice(e,1)},intentarGuardarMaterias(){this.$validator.validate().then(e=>{e&&this.guardarMaterias()})},quitarMateriasYaAsignadas(){this.materiasDisponibles=this.materiasDisponibles.filter(e=>{return-1==this.materiasAsignadas.findIndex(a=>a.id==e.id)})},guardarMaterias(){this.cargandoMaterias=!0;let e=this.materiasAsignadas.map(e=>e.id);return D.put("/materias/docente",{materias:e,docente:{id:this.idDocenteSeleccionado}}).then(e=>{this.cargandoMaterias=!1,this.$toast.open({message:!0===e?"Materias guardadas correctamente":"Error guardando. Por favor intente de nuevo",type:!0===e?"is-success":"is-danger"})})},onDocenteCambiado(){this.obtenerMateriasDeDocente(this.idDocenteSeleccionado).then(()=>this.obtenerMaterias())},obtenerDocentes(){return this.cargandoDocentes=!0,D.get("/docentes").then(e=>{this.docentes=e,this.cargandoDocentes=!1})},obtenerMateriasDeDocente(e){return D.get("/materias/docente/"+e).then(e=>this.materiasAsignadas=e)},obtenerMaterias(){return D.get("/materias").then(e=>{this.materiasDisponibles=e,this.quitarMateriasYaAsignadas()})}}},et=Xa,at=Object(j["a"])(et,Ka,Wa,!1,null,null,null),tt=at.exports,ot=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:""}},[t("b-select",{attrs:{placeholder:"Seleccione un grupo",loading:e.estaCargando},nativeOn:{change:function(a){return e.onGrupoCambiado(a)}},model:{value:e.idGrupoSeleccionado,callback:function(a){e.idGrupoSeleccionado=a},expression:"idGrupoSeleccionado"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})],2)],1),t("b-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBotonDeGuardado,expression:"puedeMostrarBotonDeGuardado"}],attrs:{label:"Guardar horario",type:"is-primary",position:"is-top"}},[t("b-button",{attrs:{loading:e.estaCargando,type:"is-primary"},on:{click:e.intentarGuardarHorario}},[e._v("Guardar\n                    ")])],1),e._v(" \n                "),t("b-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBotonDeGuardado,expression:"puedeMostrarBotonDeGuardado"}],attrs:{label:"Limpiar horario",type:"is-primary",position:"is-top"}},[t("b-button",{attrs:{loading:e.estaCargando,type:"is-warning"},on:{click:e.pedirConfirmacionParaLimpiarHorario}},[e._v("Limpiar\n                    ")])],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.idGrupoSeleccionado,expression:"idGrupoSeleccionado"}],staticClass:"b-table",class:{"is-loading":e.estaCargando}},[t("div",{staticClass:"table-wrapper"},[t("table",{staticClass:"table has-mobile-cards"},[t("thead",[t("tr",[t("th",[e._v("HORA")]),e._l(e.dias,function(a,o){return t("th",{key:o},[e._v(e._s(a))])})],2)]),Object.entries(e.horario).length>0?t("tbody",e._l(e.horas,function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.inicio)+" a "+e._s(a.fin))]),a.esReceso?[t("td",{attrs:{colspan:e.dias.length}},[e._v("RECESO")])]:e._l(e.dias,function(i,r){return t("td",{key:r},[t("b-dropdown",{attrs:{disabled:e.cargandoDropdown},nativeOn:{click:function(t){e.onDropdownDeMateriasClickeado(e.horario[e.obtenerHash(a,i)])}},model:{value:e.horario[e.obtenerHash(a,i)].materia,callback:function(t){e.$set(e.horario[e.obtenerHash(a,i)],"materia",t)},expression:"horario[obtenerHash(hora,dia)].materia"}},[t("button",{staticClass:"button",class:{"is-warning":!e.horario[e.obtenerHash(a,i)].materia,"is-success":e.horario[e.obtenerHash(a,i)].materia},attrs:{slot:"trigger",type:"button"},slot:"trigger"},[e.horario[e.obtenerHash(a,i)].materia?[t("span",[e._v(e._s(e.horario[e.obtenerHash(a,i)].materia.nombre))])]:[t("span",[e._v("Seleccione")])],t("b-icon",{attrs:{icon:"caret-down"}})],2),e._l(e.materias,function(a,i){return t("b-dropdown-item",{key:i,attrs:{value:a,disabled:e.deberiaDeshabilitarMateria(o,r,a)},nativeOn:{click:function(a){return e.forzarActualizacionDeVista()}}},[t("div",{staticClass:"media"},[t("div",{staticClass:"media-content"},[t("p",[e._v(e._s(a.nombre)+" ("+e._s(a.docente.nombre)+")")])])])])}),t("b-dropdown-item",{attrs:{value:null},nativeOn:{click:function(a){return e.forzarActualizacionDeVista()}}},[t("div",{staticClass:"media"},[t("div",{staticClass:"media-content"},[t("p",[e._v("Quitar")])])])])],2)],1)})],2)}),0):e._e()])])])],1)])])},it=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Generar horarios")])])])}],rt={data:()=>({horario:{},materias:[],puedeMostrarBotonDeGuardado:!0,grupos:[],idsDocentesDeHorario:[],estaCargando:!1,cargandoGrupos:!1,cargandoMaterias:!1,cargandoDropdown:!1,idGrupoSeleccionado:null,dias:_,horas:y}),methods:{pedirConfirmacionParaLimpiarHorario(){this.idGrupoSeleccionado&&this.$dialog.confirm({title:"Confirmación",message:"¿Realmente desea eliminar el horario? esto no se puede deshacer",confirmText:"Sí, eliminar",cancelText:"Cancelar",type:"is-danger",onConfirm:this.limpiarHorario})},limpiarHorario(){this.estaCargando=!0,D.delete("/horariosDeGrupo/"+this.idGrupoSeleccionado).then(e=>{this.estaCargando=!1,this.$toast.open({message:!0===e?"Horario eliminado":"Error eliminando. Reintente",type:!0===e?"is-success":"is-warning"}),this.onGrupoCambiado()})},intentarGuardarHorario(){this.estaCargando=!0,D.put("/horarios",{detallesHorario:Object.values(this.horario),idGrupo:this.idGrupoSeleccionado}).then(e=>{this.estaCargando=!1,this.$toast.open({message:!0===e?"Horario guardado":"Error guardando. Reintente",type:!0===e?"is-success":"is-warning"})})},deberiaDeshabilitarMateria(e,a,t){let o=t.docente.id;return this.anteriorTieneDocente(e,a,o)||this.siguienteTieneDocente(e,a,o)||this.existeMateriaEnElMismoDia(t,a)||this.docenteEstaEnOtroHorario(o)},existeMateriaEnElMismoDia(e,a){let t=this.horas.length;for(let o=0;o<t;o++){let t=this.horas[o];if(t.esReceso)continue;let i=this.obtenerDetallesAPartirDeIndiceDeHoraYDia(o,a);if(i.materia&&i.materia.id==e.id)return!0}return!1},anteriorTieneDocente(e,a,t){if(e<=0)return!1;let o=e-1;this.esHoraDeRecesoAPartirDeIndice(o)&&o--;let i=this.obtenerDetallesAPartirDeIndiceDeHoraYDia(o,a);return!!i.materia&&i.materia.docente.id==t},siguienteTieneDocente(e,a,t){if(e>=this.horas.length-1)return!1;let o=e+1;this.esHoraDeRecesoAPartirDeIndice(o)&&o++;let i=this.obtenerDetallesAPartirDeIndiceDeHoraYDia(o,a);return!!i.materia&&i.materia.docente.id==t},esHoraDeRecesoAPartirDeIndice(e){return this.horas[e].esReceso},obtenerDetallesAPartirDeIndiceDeHoraYDia(e,a){let t=this.horas[e],o=this.dias[a],i=this.obtenerHash(t,o);return this.horario[i]},forzarActualizacionDeVista(){this.$forceUpdate()},docenteEstaEnOtroHorario(e){return-1!=this.idsDocentesDeHorario.findIndex(a=>a==e)},onDropdownDeMateriasClickeado(e){let a=e.hora.inicio,t=e.hora.fin,o=e.dia;return this.cargandoDropdown=!0,this.estaCargando=!0,D.get(`/materiasImpartidasPorDocenteEnHorario?horaInicio=${a}&horaFin=${t}&dia=${o}`).then(e=>{this.idsDocentesDeHorario=e||[],this.cargandoDropdown=!1,this.estaCargando=!1})},onGrupoCambiado(){this.estaCargando=!0,this.crearHorario(),this.obtenerMateriasDelGrupoSeleccionado().then(()=>this.obtenerHorarioExistenteDeGrupoSeleccionado()).then(e=>{e.forEach(e=>{if(!e.materia.id||e.materia.id<=0)return;let a=this.obtenerHash(e.hora,e.dia);this.horario[a].materia=e.materia}),this.estaCargando=!1})},obtenerHorarioExistenteDeGrupoSeleccionado(){return D.get("/horariosDeGrupo/"+this.idGrupoSeleccionado).then(e=>e)},obtenerMateriasDelGrupoSeleccionado(){return D.get("/materiasConDocentes/de/"+this.idGrupoSeleccionado).then(e=>this.materias=e)},obtenerGrupos(){return D.get("/grupos").then(e=>this.grupos=e)},obtenerHash(e,a){return S(e,a)},crearHorario(){let e={};this.horas.forEach(a=>{this.dias.forEach(t=>{let o=this.obtenerHash(a,t);e[o]={hora:a,dia:t}}),this.horario=e})}},mounted(){this.crearHorario(),this.obtenerGrupos()}},st=rt,nt=Object(j["a"])(st,ot,it,!1,null,null,null),lt=nt.exports,ct=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{attrs:{placeholder:"Seleccione un grupo",loading:e.estaCargando},nativeOn:{change:function(a){return e.onGrupoCambiado(a)}},model:{value:e.idGrupoSeleccionado,callback:function(a){e.idGrupoSeleccionado=a},expression:"idGrupoSeleccionado"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})],2)],1),t("b-field",{attrs:{label:"Semestre"}},[t("b-input",{attrs:{disabled:!e.idGrupoSeleccionado,placeholder:"Nombre del semestre"},model:{value:e.nombreSemestre,callback:function(a){e.nombreSemestre=a},expression:"nombreSemestre"}})],1),t("b-field",{attrs:{label:"."}},[t("b-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBotonDeGuardado,expression:"puedeMostrarBotonDeGuardado"}],attrs:{label:"Imprimir horario",type:"is-primary",position:"is-top"}},[t("b-button",{attrs:{loading:e.estaCargando,type:"is-primary"},on:{click:e.imprimirHorario}},[e._v("Imprimir\n                        ")])],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.idGrupoSeleccionado,expression:"idGrupoSeleccionado"}],staticClass:"column",class:{"is-loading":e.estaCargando},attrs:{id:"contenedorHorarios"}},[t("Encabezado"),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"has-text-centered"},[e._v(e._s(e._f("mayusculas")(e.nombreSemestre)))]),t("h2",{staticClass:"has-text-centered"},[e._v('GRUPO "'+e._s(e._f("mayusculas")(e.grupoSeleccionado().nombre))+'"')])])]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("table",[t("thead",[t("tr",[t("th",[e._v("HORA")]),e._l(e.dias,function(a,o){return t("th",{key:o},[e._v(e._s(e._f("mayusculas")(a)))])})],2)]),Object.entries(e.horario).length>0?t("tbody",e._l(e.horas,function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.inicio)+" a "+e._s(a.fin))]),a.esReceso?[t("td",{attrs:{colspan:e.dias.length}},[e._v("RECESO")])]:e._l(e.dias,function(o,i){return t("td",{key:i},[e.horario[e.obtenerHash(a,o)].materia?[t("span",[e._v(e._s(e._f("mayusculas")(e.horario[e.obtenerHash(a,o)].materia.nombre)))])]:[t("span",[e._v("-- Pendiente --")])]],2)})],2)}),0):e._e()])])]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half has-text-centered"},[t("p",[e._v("DIRECTOR")]),t("div",{staticClass:"linea"}),t("p",[e._v(e._s(e.NOMBRE_DIRECTOR))])]),t("div",{staticClass:"column is-half has-text-centered"},[t("p",[e._v("Vo. Bo. SUPERVISOR")]),t("div",{staticClass:"linea"}),t("p",[e._v(e._s(e.NOMBRE_SUPERVISOR))])])])],1)],1)])])},ut=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2",attrs:{id:"titulo"}},[e._v("Horarios por grupo")])])])}],dt={data:()=>({NOMBRE_DIRECTOR:h,NOMBRE_SUPERVISOR:g,nombreSemestre:"",puedeMostrarBotonDeGuardado:!0,grupos:[],horario:{},estaCargando:!1,idGrupoSeleccionado:null,dias:_,horas:y}),components:{Encabezado:xa},methods:{grupoSeleccionado(){if(!this.idGrupoSeleccionado)return{};let e=this.grupos.findIndex(e=>e.id===this.idGrupoSeleccionado);return this.grupos[e]},onGrupoCambiado(){this.estaCargando=!0,this.crearHorario(),this.obtenerHorarioExistenteDeGrupoSeleccionado().then(e=>{e.forEach(e=>{if(!e.materia.id||e.materia.id<=0)return;let a=this.obtenerHash(e.hora,e.dia);this.horario[a].materia=e.materia}),this.estaCargando=!1})},obtenerHorarioExistenteDeGrupoSeleccionado(){return D.get("/horariosDeGrupo/"+this.idGrupoSeleccionado).then(e=>e)},obtenerGrupos(){return D.get("/grupos").then(e=>this.grupos=e)},obtenerHash(e,a){return S(e,a)},imprimirHorario(){document.querySelectorAll("nav,input,.field,#titulo").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#contenedorHorarios").classList.remove("oculto-impresion"),window.print()},crearHorario(){let e={};this.horas.forEach(a=>{this.dias.forEach(t=>{let o=this.obtenerHash(a,t);e[o]={hora:a,dia:t}}),this.horario=e})}},mounted(){this.crearHorario(),this.obtenerGrupos()}},mt=dt,pt=(t("bd30"),Object(j["a"])(mt,ct,ut,!1,null,"4a3e7682",null)),ht=pt.exports,bt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Docente"}},[t("b-select",{attrs:{placeholder:"Seleccione un docente",loading:e.estaCargando},nativeOn:{change:function(a){return e.onDocenteCambiado(a)}},model:{value:e.idDocenteSeleccionado,callback:function(a){e.idDocenteSeleccionado=a},expression:"idDocenteSeleccionado"}},[t("option",{attrs:{disabled:"",value:""}},[e._v("-- Seleccione --")]),e._l(e.docentes,function(a,o){return t("option",{key:o,domProps:{value:a.id}},[e._v(e._s(a.nombre)+"\n                        ")])})],2)],1),t("b-field",{attrs:{label:"Semestre"}},[t("b-input",{attrs:{disabled:!e.idDocenteSeleccionado,placeholder:"Nombre del semestre"},model:{value:e.nombreSemestre,callback:function(a){e.nombreSemestre=a},expression:"nombreSemestre"}})],1),t("b-field",{attrs:{label:"¿Horario de director?"}},[t("b-checkbox",{attrs:{value:!0,type:"is-success"},model:{value:e.horarioDeDirector,callback:function(a){e.horarioDeDirector=a},expression:"horarioDeDirector"}},[e._v(e._s(e.horarioDeDirector?"Sí":"No")+"\n                    ")])],1),t("b-field",{attrs:{label:"."}},[t("b-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.puedeMostrarBotonDeGuardado,expression:"puedeMostrarBotonDeGuardado"}],attrs:{label:"Imprimir horario",type:"is-primary",position:"is-top"}},[t("b-button",{attrs:{loading:e.estaCargando,type:"is-primary"},on:{click:e.imprimirHorario}},[e._v("Imprimir\n                        ")])],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.idDocenteSeleccionado,expression:"idDocenteSeleccionado"}],staticClass:"column",class:{"is-loading":e.estaCargando},attrs:{id:"contenedorHorarios"}},e._l(1,function(a,o){return t("div",{key:o},[t("Encabezado"),t("div",{staticClass:"linea-larga"}),t("div",{staticClass:"linea-larga"}),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("p",{staticClass:"margen-izquierdo"},[t("strong",[e._v("\n                                    PROFESOR (A) "+e._s(e._f("mayusculas")(e.docenteSeleccionado().nombre))+"\n                                    "),t("br"),e._v("DOCENTE\n                                    "),t("br"),e._v("PRESENTE\n                                ")]),t("br"),t("br"),e._v('\n                                POR MEDIO DEL PRESENTE SE LE ENTREGA SU CARGA DE TRABAJO PARA EL SEMESTRE\n                                "'+e._s(e._f("mayusculas")(e.nombreSemestre))+'":\n                            ')])])]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("table",[t("thead",[t("tr",[t("th",[e._v("HORA")]),e._l(e.dias,function(a,o){return t("th",{key:o},[e._v(e._s(e._f("mayusculas")(a)))])})],2)]),Object.entries(e.horario).length>0?t("tbody",e._l(e.horas,function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.inicio)+" a "+e._s(a.fin))]),a.esReceso?[t("td",{attrs:{colspan:e.dias.length}},[e._v("RECESO")])]:e._l(e.dias,function(o,i){return t("td",{key:i,style:{backgroundColor:e.horario[e.obtenerHash(a,o)].color}},[e.horario[e.obtenerHash(a,o)].materia?[t("span",[e._v("\n                        "+e._s(e._f("mayusculas")(e.horario[e.obtenerHash(a,o)].materia.nombre))+"\n                        "),t("br"),e._v("\n                        "+e._s(e._f("mayusculas")(e.horario[e.obtenerHash(a,o)].grupo.nombre))+"\n                      ")])]:[t("span",[e._v(e._s(e.horarioDeDirector?"COMISIÓN DE LA DIRECCIÓN":""))])]],2)})],2)}),0):e._e()])])]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("p",{staticClass:"margen-izquierdo"},[e._v("SIN MÁS POR EL MOMENTO Y ESPERANDO CUMPLA CON EL HORARIO PRESENTADO QUEDO DE USTED")]),t("p",{staticClass:"has-text-centered"},[e._v("\n                                ATENTAMENTE\n                                "),t("br"),e._v("\n                                "+e._s(e.DIRECCION_LUGAR)+" A "+e._s(e.diaMes)+" DE "+e._s(e._f("mayusculas")(e.mes))+" DE "+e._s(e._f("mayusculas")(e.anio))+"\n                            ")]),e.horarioDeDirector?[t("p",{staticClass:"has-text-centered"},[t("br"),e._v("SUPERVISOR ESCOLAR ZONA "+e._s(e.ZONA_ESCOLAR)+"\n                                ")]),t("div",{staticClass:"linea"}),t("p",{staticClass:"has-text-centered"},[e._v(e._s(e.NOMBRE_SUPERVISOR))])]:[t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half has-text-centered"},[t("p",[e._v("DIRECTOR")]),t("div",{staticClass:"linea"}),t("p",[e._v(e._s(e.NOMBRE_DIRECTOR))])]),t("div",{staticClass:"column is-half has-text-centered"},[t("p",[e._v("Vo. Bo. SUPERVISOR")]),t("div",{staticClass:"linea"}),t("p",[e._v(e._s(e.NOMBRE_SUPERVISOR))])])])]],2)])],1)}),0)],1)])])},vt=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Horarios de docentes")])])])}],gt={data:()=>({NOMBRE_DIRECTOR:h,NOMBRE_SUPERVISOR:g,DIRECCION_LUGAR:p,ZONA_ESCOLAR:v,horarioDeDirector:!1,diaMes:(new Date).getDate(),anio:(new Date).getFullYear(),mes:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][(new Date).getMonth()],nombreSemestre:"",puedeMostrarBotonDeGuardado:!0,docentes:[],horario:{},estaCargando:!1,idDocenteSeleccionado:null,dias:_,horas:y,configuracionColores:{contador:0,diccionarioMaterias:{}}}),components:{Encabezado:xa},methods:{docenteSeleccionado(){if(!this.idDocenteSeleccionado||this.docentes.length<=0)return{};let e=this.docentes.findIndex(e=>e.id===this.idDocenteSeleccionado);return this.docentes[e]||{}},onDocenteCambiado(){this.configuracionColores.contador=0,this.estaCargando=!0,this.crearHorario(),this.obtenerHorarioExistenteDeDocenteSeleccionado().then(e=>{e.forEach(e=>{if(!e.materia.id||e.materia.id<=0)return;let a=this.obtenerHash(e.hora,e.dia);this.horario[a].materia=e.materia,this.horario[a].grupo=e.grupo,this.horario[a].color=this.obtenerColor(e.materia.id)||"#8bc34a"}),this.estaCargando=!1})},obtenerColor(e){return this.configuracionColores.diccionarioMaterias[e]||(this.configuracionColores.contador++,this.configuracionColores.diccionarioMaterias[e]=A[this.configuracionColores.contador]),this.configuracionColores.diccionarioMaterias[e]},obtenerHorarioExistenteDeDocenteSeleccionado(){return D.get("/horariosDeDocente/"+this.idDocenteSeleccionado).then(e=>e)},obtenerHash(e,a){return S(e,a)},obtenerDocentes(){return D.get("/docentes").then(e=>this.docentes=e)},imprimirHorario(){document.querySelectorAll("nav,input,.field,h2").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#contenedorHorarios").classList.remove("oculto-impresion"),window.print()},crearHorario(){let e={};this.horas.forEach(a=>{this.dias.forEach(t=>{let o=this.obtenerHash(a,t);e[o]={hora:a,dia:t}}),this.horario=e})}},mounted(){this.crearHorario(),this.obtenerDocentes()}},ft=gt,_t=(t("8a65"),Object(j["a"])(ft,bt,vt,!1,null,"2b1661b0",null)),Ct=_t.exports,yt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Registrar usuario")]),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{placeholder:"Nombre del usuario",name:"nombre"},model:{value:e.nuevoUsuario.usuario,callback:function(a){e.$set(e.nuevoUsuario,"usuario",a)},expression:"nuevoUsuario.usuario"}})],1),t("b-field",{attrs:{label:"Contraseña"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"palabra_secreta",attrs:{type:"password","data-vv-as":"Contraseña",placeholder:"Escribe tu contraseña",name:"palabra_secreta"},model:{value:e.nuevoUsuario.palabraSecreta,callback:function(a){e.$set(e.nuevoUsuario,"palabraSecreta",a)},expression:"nuevoUsuario.palabraSecreta"}})],1),t("b-field",{attrs:{label:"Contraseña"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:palabra_secreta",expression:"'required|confirmed:palabra_secreta'"}],attrs:{type:"password","data-vv-as":"Confirmar contraseña",placeholder:"Confirma tu contraseña",name:"palabra_secreta_confirmar"},model:{value:e.nuevoUsuario.palabraSecretaConfirmar,callback:function(a){e.$set(e.nuevoUsuario,"palabraSecretaConfirmar",a)},expression:"nuevoUsuario.palabraSecretaConfirmar"}})],1),t("b-field",{directives:[{name:"show",rawName:"v-show",value:e.usuarioLogueado.administrador&&!1,expression:"usuarioLogueado.administrador && false"}],attrs:{label:"¿Permisos de administrador?"}},[t("b-checkbox",{model:{value:e.nuevoUsuario.administrador,callback:function(a){e.$set(e.nuevoUsuario,"administrador",a)},expression:"nuevoUsuario.administrador"}},[e._v(e._s(e.nuevoUsuario.administrador?"Sí":"No")+"\n            ")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarGuardarUsuario}},[e._v("Guardar")])],1)])},Et=[],St={data:()=>({nuevoUsuario:{usuario:"",palabraSecreta:"",palabraSecretaConfirmar:"",administrador:!1},usuarioLogueado:{},cargando:!1}),mounted(){this.usuarioLogueado=ei.obtenerUsuario()},methods:{intentarGuardarUsuario(){this.$validator.validate().then(e=>{e&&this.guardarUsuario()})},guardarUsuario(){this.cargando=!0,D.post("/usuario",this.nuevoUsuario).then(e=>{this.cargando=!1,Number.isInteger(e)?(this.nuevoUsuario.usuario="",this.nuevoUsuario.palabraSecreta="",this.nuevoUsuario.palabraSecretaConfirmar="",this.$toast.open({message:"Usuario guardado correctamente",type:"is-success"})):this.$toast.open({message:"Error guardando usuario. Tal vez ya existe",type:"is-danger"})})}}},At=St,Dt=Object(j["a"])(At,yt,Et,!1,null,null,null),kt=Dt.exports,wt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._m(0),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-table",{attrs:{loading:e.cargandoUsuarios,data:e.usuarios},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{field:"usuario",label:"Nombre"}},[e._v(e._s(a.row.usuario))]),t("b-table-column",{attrs:{field:"id",label:"Opciones"}},[t("b-button",{attrs:{type:"is-warning"},on:{click:function(t){return e.cambiarPass(a.row)}}},[t("b-icon",{attrs:{icon:"edit"}})],1),e._v(" \n                        "),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.eliminarUsuario(a.row)}}},[t("b-icon",{attrs:{icon:"trash"}})],1)],1)]}}])})],1)])])},xt=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",{staticClass:"is-size-2"},[e._v("Usuarios")])])])}],Gt={data:()=>({usuarios:[],cargandoUsuarios:!1,usuarioLogueado:{}}),mounted(){this.obtenerUsuarios(),this.usuarioLogueado=ei.obtenerUsuario()},methods:{obtenerUsuarios(){this.cargandoUsuarios=!0,D.get("/usuarios").then(e=>{this.usuarios=e,this.cargandoUsuarios=!1})},quitarPermisos(e){this.cargandoUsuarios=!0,D.put("/usuario/administrador",{id:e.id,administrador:!1}).then(e=>{this.cargandoUsuarios=!1,this.obtenerUsuarios(),!0===e?this.$toast.open({message:"Permisos revocados",type:"is-success"}):this.$toast.open({message:"Error revocando permisos",type:"is-danger"})})},darPermisos(e){this.cargandoUsuarios=!0,D.put("/usuario/administrador",{id:e.id,administrador:!0}).then(e=>{this.cargandoUsuarios=!1,this.obtenerUsuarios(),!0===e?this.$toast.open({message:"Permisos asignados",type:"is-success"}):this.$toast.open({message:"Error asignando permisos",type:"is-danger"})})},cambiarPass(e){this.$router.push({name:"CambiarPass",params:{id:e.id}})},eliminarUsuario(e){this.$dialog.confirm({title:"Eliminar usuario",message:"¿Está seguro? esto no se puede deshacer",confirmText:"Eliminar",cancelText:"Cancelar",type:"is-danger",onConfirm:()=>D.delete("/usuario/"+e.id).then(a=>{!0===a?ei.obtenerUsuario().id===e.id?D.get("/logout").then(()=>{document.location.reload()}):(this.$toast.open({message:"Eliminado correctamente",type:"is-success"}),this.obtenerUsuarios()):this.$toast.open({message:"Error eliminando usuario",type:"is-danger"})})})}}},$t=Gt,Mt=Object(j["a"])($t,wt,xt,!1,null,null,null),Ot=Mt.exports,Pt=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half"},[t("h2",{staticClass:"is-size-2"},[e._v("Cambiar contraseña")]),t("b-field",{attrs:{label:"Nombre"}},[t("b-input",{attrs:{readonly:"",placeholder:"Nombre del usuario",name:"nombre"},model:{value:e.usuario.usuario,callback:function(a){e.$set(e.usuario,"usuario",a)},expression:"usuario.usuario"}})],1),t("b-field",{attrs:{label:"Contraseña actual"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{type:"password","data-vv-as":"Contraseña actual",placeholder:"Contraseña actual",name:"palabra_secreta"},model:{value:e.usuario.palabraSecretaActual,callback:function(a){e.$set(e.usuario,"palabraSecretaActual",a)},expression:"usuario.palabraSecretaActual"}})],1),t("b-field",{attrs:{label:"Nueva contraseña"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"palabra_secreta",attrs:{type:"password","data-vv-as":"Nueva contraseña",placeholder:"Escribe tu contraseña",name:"palabra_secreta"},model:{value:e.usuario.palabraSecretaNueva,callback:function(a){e.$set(e.usuario,"palabraSecretaNueva",a)},expression:"usuario.palabraSecretaNueva"}})],1),t("b-field",{attrs:{label:"Confirma tu nueva contraseña"}},[t("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:palabra_secreta",expression:"'required|confirmed:palabra_secreta'"}],attrs:{type:"password","data-vv-as":"Confirmar contraseña",placeholder:"Confirma tu contraseña",name:"palabra_secreta_confirmar"},model:{value:e.usuario.palabraSecretaConfirmar,callback:function(a){e.$set(e.usuario,"palabraSecretaConfirmar",a)},expression:"usuario.palabraSecretaConfirmar"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("b-button",{attrs:{loading:e.cargando,type:"is-primary"},on:{click:e.intentarCambiarPass}},[e._v("Guardar")]),e._v(" \n        "),t("b-button",{attrs:{loading:e.cargando,type:"is-warning"},on:{click:e.volver}},[e._v("Volver")])],1)])},Rt=[],jt={data:()=>({cargando:!1,usuario:{usuario:""}}),mounted(){let{id:e}=this.$route.params;this.obtenerUsuario(e)},methods:{intentarCambiarPass(){this.$validator.validate().then(e=>{e&&(this.cargando=!0,D.put("/usuario/pass",{idUsuario:this.usuario.id,palabraSecretaActual:this.usuario.palabraSecretaActual,palabraSecretaNueva:this.usuario.palabraSecretaNueva}).then(e=>{this.cargando=!1,!0===e?(this.$toast.open({message:"Contraseña cambiada correctamente",type:"is-success"}),this.volver()):this.$toast.open({message:"Error cambiando contraseña",type:"is-danger"})}))})},obtenerUsuario(e){this.cargando=!0,D.get("/usuario/"+e).then(e=>{this.cargando=!1,this.usuario.usuario=e.usuario,this.usuario.id=e.id})},volver(){this.$router.go(-1)}}},Nt=jt,qt=Object(j["a"])(Nt,Pt,Rt,!1,null,null,null),Ft=qt.exports,It=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"columns"},[t("div",{staticClass:"column has-text-centered"},[t("h1",{staticClass:"is-size-1"},[e._v("Hola "+e._s(e.usuario.usuario))]),t("p",[e._v("¿Qué desea hacer hoy?")])])]),e._l(e.filas,function(a,o){return t("div",{key:o,staticClass:"columns"},e._l(a,function(a,o){return t("div",{key:o,staticClass:"column"},[t("div",{staticClass:"card",on:{click:function(t){return e.navegarA(a.ruta)}}},[t("div",{staticClass:"card-image"},[t("figure",{staticClass:"image"},[t("img",{attrs:{src:a.imagen,alt:a.titulo}})])]),t("div",{staticClass:"card-content"},[t("div",{staticClass:"media"},[t("div",{staticClass:"media-content"},[t("p",{staticClass:"title is-5"},[e._v(e._s(a.titulo))])])])])])])}),0)})],2)},Tt=[],zt=t("e2a5"),Ut=t.n(zt),Ht=t("382f"),Bt=t.n(Ht),Lt=t("0ce0"),Vt=t.n(Lt),Yt=t("ff4a"),Jt=t.n(Yt),Qt=t("c0a0"),Zt=t.n(Qt),Kt=t("50ab"),Wt=t.n(Kt),Xt=t("e003"),eo=t.n(Xt),ao=t("bdf6"),to=t.n(ao),oo=t("44b3"),io=t.n(oo),ro=t("7a42"),so=t.n(ro),no={methods:{navegarA(e){this.$router.push({name:e})}},mounted(){ei.$on("establecerUsuario",e=>{this.usuario=e}),this.usuario=ei.obtenerUsuario()},data:()=>({usuario:{},filas:[[{titulo:"Registrar alumno",imagen:Wt.a,ruta:"AgregarAlumno"},{titulo:"Administrar grupos",imagen:so.a,ruta:"Grupos"},{titulo:"Boletas de alumnos",imagen:to.a,ruta:"BoletasDeAlumnos"},{titulo:"Registrar materias",imagen:io.a,ruta:"AgregarMateria"},{titulo:"Administrar docentes",imagen:Zt.a,ruta:"AgregarDocente"}],[{titulo:"Gráficas de crecimiento",imagen:Ut.a,ruta:"CalificacionesDeAlumno"},{titulo:"Horarios de clase",imagen:Bt.a,ruta:"GenerarHorarios"},{titulo:"Registrar calificaciones",imagen:Vt.a,ruta:"AgregarCalificaciones"},{titulo:"Materias de docentes",imagen:Jt.a,ruta:"MateriasDeDocentes"},{titulo:"Imprimir horarios",imagen:eo.a,ruta:"ImprimirHorarios"}]]})},lo=no,co=(t("802c"),Object(j["a"])(lo,It,Tt,!1,null,"3d7289e2",null)),uo=co.exports,mo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{attrs:{id:"app"}},[t("div",{staticClass:"hero-body"},[t("div",{staticClass:"container has-text-centered"},[t("div",{staticClass:"column is-4 is-offset-4"},[t("h1",{staticClass:"title has-text-grey"},[e._v("Bienvenido")]),t("p",{staticClass:"subtitle has-text-grey"},[e._v("Inicia sesión")]),t("div",{staticClass:"box"},[t("figure",{staticClass:"avatar",staticStyle:{padding:"0"}},[t("img",{staticStyle:{width:"130px"},attrs:{src:e.ImagenLogin}})]),t("div",{staticClass:"field"},[t("div",{staticClass:"control"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"},{name:"model",rawName:"v-model",value:e.usuario.usuario,expression:"usuario.usuario"}],staticClass:"input is-large",attrs:{type:"text",placeholder:"Usuario",name:"usuario"},domProps:{value:e.usuario.usuario},on:{input:function(a){a.target.composing||e.$set(e.usuario,"usuario",a.target.value)}}})])]),t("div",{staticClass:"field"},[t("div",{staticClass:"control"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"},{name:"model",rawName:"v-model",value:e.usuario.palabraSecreta,expression:"usuario.palabraSecreta"}],staticClass:"input is-large",attrs:{name:"contraseña",type:"password",placeholder:"Contraseña"},domProps:{value:e.usuario.palabraSecreta},on:{input:function(a){a.target.composing||e.$set(e.usuario,"palabraSecreta",a.target.value)}}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.all().length>0,expression:"errors.all().length > 0"}],staticClass:"notification is-danger"},[t("strong",[e._v("Por favor, corrija los siguientes errores")]),t("ul",e._l(e.errors.all(),function(a,o){return t("li",{key:o},[e._v(e._s(a))])}),0)]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.notificacion.mostrar,expression:"notificacion.mostrar"}],staticClass:"notification",class:e.notificacion.clase},[e._v(e._s(e.notificacion.mensaje)+"\n                    ")]),t("b-button",{staticClass:"button is-block is-info is-large is-fullwidth",attrs:{loading:e.cargando},on:{click:e.intentarIniciarSesion}},[e._v("Ingresar\n                    ")])],1)])])])])},po=[],ho={beforeMount(){ei.$emit("ocultarMenu")},data:()=>({ImagenLogin:O.a,usuario:{usuario:"",palabraSecreta:""},cargando:!1,notificacion:{clase:"",mostrar:!1,mensaje:""}}),methods:{intentarIniciarSesion(){this.$validator.validate().then(e=>{e&&this.iniciarSesion()})},iniciarSesion(){this.cargando=!0,D.put("/login",this.usuario).then(e=>{this.cargando=!1,1==e?D.get("/usuario/logueado").then(e=>{ei.establecerUsuario(e),this.$toast.open({message:"Bienvenido",type:"is-success"}),this.$router.push({name:"Index"}),ei.$emit("mostrarMenu")}):this.$toast.open({message:"Usuario o contraseña incorrecta",type:"is-danger"})})}}},bo=ho,vo=(t("c564"),Object(j["a"])(bo,mo,po,!1,null,"174fcc3c",null)),go=vo.exports,fo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticStyle:{"margin-top":"10px"},attrs:{id:"contenedorBoleta"}},[e._m(0),e._m(1),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-three-quarters"},[e._m(2),t("br"),t("p",[e._v(e._s(e.DIRECCION_LUGAR)+" A "),t("u",[e._v(e._s(e.dia))]),e._v(" DE "),t("u",[e._v(e._s(e.mes))]),e._v(" "+e._s(e.anio))]),t("br"),t("div",{staticClass:"columns has-text-centered"},[t("div",{staticClass:"column"},[t("p",[e._v("Vo. Bo. Director de la escuela")]),t("div",{staticClass:"linea"}),t("p",[e._v(e._s(e.NOMBRE_DIRECTOR))])]),t("div",{staticClass:"column"},[t("p",[e._v("ASESORA")]),t("div",{staticClass:"linea"}),t("p",[e._v(e._s(e.NOMBRE_ASESOR))])])])]),t("div",{staticClass:"column"},[t("table",{staticClass:"meses"},[t("tbody",e._l(["septiembre","octubre","noviembre","diciembre","enero","febrero","marzo","abril","mayo","junio"],function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a))])])}),0)])])])]),t("div",{staticClass:"columns"},[t("b-button",{attrs:{type:"is-primary"},on:{click:e.imprimir}},[e._v("Imprimir\n        ")])],1)])},_o=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("h2",[t("u",[e._v("Firma de enterado de padre o tutor")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("h2",[t("u",[e._v("Observaciones (Materias que adeuda)")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("table",{staticClass:"semestres",attrs:{contenteditable:"true"}},[t("tbody",[t("tr",[t("td",[e._v("TERCER SEMESTRE")]),t("td",[e._v("CUARTO SEMESTRE")])]),t("tr",[t("td",[e._v("TERCER SEMESTRE")]),t("td",[e._v("CUARTO SEMESTRE")])]),t("tr",[t("td",[e._v("TERCER SEMESTRE")]),t("td",[e._v("CUARTO SEMESTRE")])])])])}],Co={data:()=>({DIRECCION_LUGAR:p,NOMBRE_DIRECTOR:h,NOMBRE_ASESOR:b}),computed:{dia(){return(new Date).getDate()},anio(){return(new Date).getFullYear()},mes(){return w[(new Date).getMonth()]}},methods:{imprimir(){document.querySelectorAll("nav,input,.field,#titulo, button").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#contenedorBoleta").classList.remove("oculto-impresion"),window.print()}}},yo=Co,Eo=(t("e34a"),Object(j["a"])(yo,fo,_o,!1,null,"2a931d70",null)),So=Eo.exports,Ao=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-three-quarters"},[t("h1",{staticClass:"is-size-2"},[e._v("Pasar asistencia")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{attrs:{placeholder:"Seleccione un grupo",loading:e.cargando},nativeOn:{change:function(a){return e.onFechaOGrupoCambiado(a)}},model:{value:e.grupoSeleccionado,callback:function(a){e.grupoSeleccionado=a},expression:"grupoSeleccionado"}},e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a}},[e._v(e._s(a.nombre))])}),0)],1),t("b-field",{attrs:{label:"Fecha"}},[t("b-datepicker",{attrs:{"mobile-native":!1,"day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Fecha"},on:{input:e.onFechaOGrupoCambiado},model:{value:e.fecha,callback:function(a){e.fecha=a},expression:"fecha"}})],1),t("b-field",{attrs:{label:"."}},[t("b-button",{staticClass:"button is-primary",attrs:{loading:e.cargando},on:{click:e.guardarAsistencias}},[e._v("Guardar")])],1)],1),t("b-table",{attrs:{loading:e.cargando,data:e.alumnos},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{sortable:"",field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{sortable:"",field:"matricula",label:"Matrícula"}},[e._v(e._s(a.row.matricula))]),t("b-table-column",{attrs:{label:"Estado"}},[t("b-select",{attrs:{placeholder:"Estado"},model:{value:a.row.estadoAsistencia,callback:function(t){e.$set(a.row,"estadoAsistencia",t)},expression:"props.row.estadoAsistencia"}},e._l(e.estados,function(a,o){return t("option",{key:o,domProps:{value:a.valor}},[e._v(e._s(a.etiqueta))])}),0)],1)]}}])})],1)])},Do=[];let ko={};var wo={data:()=>({grupos:[],fecha:new Date,cargando:!1,grupoSeleccionado:{},datepicker:{meses:w,dias:k},alumnos:[],estados:[{etiqueta:"Falta",valor:G},{etiqueta:"Asistencia",valor:x}]}),methods:{obtenerFechaFormateada(){return $(this.fecha)},async obtenerGrupos(){this.cargando=!0,this.grupos=await D.get("/grupos"),this.grupos.length>0&&(this.grupoSeleccionado=this.grupos[0],this.onFechaOGrupoCambiado()),this.cargando=!1},async onFechaOGrupoCambiado(){this.fecha&&this.grupoSeleccionado.id&&(await this.obtenerAlumnosDeGrupoSeleccionado(),this.obtenerRegistrosDeAsistencia())},async obtenerAlumnosDeGrupoSeleccionado(){if(!this.grupoSeleccionado.id)return;this.cargando=!0,ko={};const e=await D.get("/alumnos?idGrupo=".concat(this.grupoSeleccionado.id));e.forEach((e,a)=>{e.estadoAsistencia=G,ko[e.id]=a}),this.alumnos=e,this.cargando=!1},async obtenerRegistrosDeAsistencia(){const e=await D.get(`/asistencias?idGrupo=${this.grupoSeleccionado.id}&fecha=${this.obtenerFechaFormateada()}`);e.forEach(e=>{const a=ko[e.alumno.id];(a||0===a)&&this.$set(this.alumnos[a],"estadoAsistencia",e.valor)})},async guardarAsistencias(){this.cargando=!0;const e=this.alumnos.map(e=>({idAlumno:e.id,fecha:this.obtenerFechaFormateada(),valor:e.estadoAsistencia})),a=await D.post(`/asistencias?idGrupo=${this.grupoSeleccionado.id}&fecha=${this.obtenerFechaFormateada()}`,e);this.$toast.open({message:a?"Asistencia guardada":"Error guardando asistencia",type:a?"is-success":"is-danger"}),this.cargando=!1}},mounted(){this.obtenerGrupos()}},xo=wo,Go=Object(j["a"])(xo,Ao,Do,!1,null,null,null),$o=Go.exports,Mo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h1",{staticClass:"is-size-2"},[e._v("Reporte de asistencia")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{attrs:{placeholder:"Seleccione un grupo",loading:e.cargando},nativeOn:{change:function(a){return e.onFechasOGrupoCambiados(a)}},model:{value:e.grupoSeleccionado,callback:function(a){e.grupoSeleccionado=a},expression:"grupoSeleccionado"}},e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a}},[e._v(e._s(a.nombre))])}),0)],1),t("b-field",{attrs:{label:"Desde"}},[t("b-datepicker",{attrs:{"mobile-native":!1,"day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Fecha inicio"},on:{input:e.onFechasOGrupoCambiados},model:{value:e.fechaInicio,callback:function(a){e.fechaInicio=a},expression:"fechaInicio"}})],1),t("b-field",{attrs:{label:"Hasta"}},[t("b-datepicker",{attrs:{"mobile-native":!1,"day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Fecha fin"},on:{input:e.onFechasOGrupoCambiados},model:{value:e.fechaFin,callback:function(a){e.fechaFin=a},expression:"fechaFin"}})],1),t("b-field",{attrs:{label:"."}},[t("b-button",{staticClass:"button is-primary",attrs:{loading:e.cargando},on:{click:e.imprimir}},[e._v("Imprimir")])],1)],1),t("div",{attrs:{id:"contenedorAsistencia"}},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",[e._v("Reporte de asistencia")]),t("p",[t("strong",[e._v("Desde:")]),e._v("\n            "+e._s(e.obtenerFechaInicioFormateada())+" \n            "),t("strong",[e._v("Hasta:")]),e._v("\n            "+e._s(e.obtenerFechaFinFormateada())+" \n            "),t("strong",[e._v("Grupo:")]),e._v("\n            "+e._s(e.grupoSeleccionado.nombre)+"\n            "),t("br")])])]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("table",[t("thead",[t("tr",[t("th",[e._v("Nombre")]),t("th",[e._v("Matrícula")]),e._l(e.fechasEncabezado,function(a,o){return t("th",{key:o},[e._v(e._s(a))])}),t("th",[e._v("Total")])],2)]),t("tbody",e._l(e.alumnos,function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.nombre))]),t("td",[e._v(e._s(a.matricula))]),e._l(a.estadosAsistencia,function(a,o){return t("td",{key:o},[e._v(e._s(1===a.valor?"Asistencia":"Falta"))])}),t("td",[e._v(e._s(a.totalAsistencias)+" / "+e._s(a.estadosAsistencia.length))])],2)}),0)])])])])],1)])},Oo=[];let Po={};var Ro={data:()=>({grupos:[],fechaInicio:new Date,fechaFin:new Date,cargando:!1,grupoSeleccionado:{},datepicker:{meses:w,dias:k},alumnos:[],fechasEncabezado:[],estados:[{etiqueta:"Falta",valor:G},{etiqueta:"Asistencia",valor:x}]}),methods:{totalAsistencias(){let e=0;return this.alumnos.forEach(a=>{a.estadoAsistencia===x&&e++}),e},totalFaltas(){return this.alumnos.length-this.totalAsistencias()},obtenerFechaFormateada(){return $(this.fechaInicio)},obtenerFechaInicioFormateada(){return $(this.fechaInicio)},obtenerFechaFinFormateada(){return $(this.fechaFin)},async obtenerGrupos(){this.cargando=!0,this.grupos=await D.get("/grupos"),this.grupos.length>0&&(this.grupoSeleccionado=this.grupos[0],this.onFechasOGrupoCambiados()),this.cargando=!1},async onFechasOGrupoCambiados(){this.fechaInicio&&this.fechaFin&&this.grupoSeleccionado.id&&(await this.obtenerAlumnosDeGrupoSeleccionado(),this.obtenerRegistrosDeAsistencia())},async obtenerAlumnosDeGrupoSeleccionado(){if(!this.grupoSeleccionado.id)return;this.cargando=!0,Po={};const e=await D.get("/alumnos?idGrupo=".concat(this.grupoSeleccionado.id));e.forEach((e,a)=>{e.estadosAsistencia=[],e.totalAsistencias=0,Po[e.id]=a}),this.alumnos=e,this.cargando=!1},async obtenerRegistrosDeAsistencia(){const e=await D.get(`/asistencias_rango?idGrupo=${this.grupoSeleccionado.id}&fechaInicio=${this.obtenerFechaInicioFormateada()}&fechaFin=${this.obtenerFechaFinFormateada()}`);this.fechasEncabezado=[],e.forEach(e=>{const a=Po[e.alumno.id];(a||0===a)&&(this.alumnos[a]["estadosAsistencia"].push(e),1===e.valor&&this.alumnos[a]["totalAsistencias"]++,-1===this.fechasEncabezado.indexOf(e.fecha)&&this.fechasEncabezado.push(e.fecha))})},imprimir(){document.querySelectorAll("nav,input,.field,#titulo, footer, h1.is-size-2").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#contenedorAsistencia").classList.remove("oculto-impresion"),window.print()}},mounted(){this.obtenerGrupos()}},jo=Ro,No=(t("b4a2"),Object(j["a"])(jo,Mo,Oo,!1,null,"393d45c8",null)),qo=No.exports,Fo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-three-quarters"},[t("h1",{staticClass:"is-size-2"},[e._v("Registrar pagos")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{attrs:{placeholder:"Seleccione un grupo",loading:e.cargando},nativeOn:{change:function(a){return e.onFechaOGrupoCambiado(a)}},model:{value:e.grupoSeleccionado,callback:function(a){e.grupoSeleccionado=a},expression:"grupoSeleccionado"}},e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a}},[e._v(e._s(a.nombre))])}),0)],1),t("b-field",{attrs:{label:"Fecha"}},[t("b-datepicker",{attrs:{"mobile-native":!1,"day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Fecha"},on:{input:e.onFechaOGrupoCambiado},model:{value:e.fecha,callback:function(a){e.fecha=a},expression:"fecha"}})],1),t("b-field",{attrs:{label:"."}},[t("b-button",{staticClass:"button is-primary",attrs:{loading:e.cargando},on:{click:e.guardarPagos}},[e._v("Guardar")])],1)],1),t("b-table",{attrs:{loading:e.cargando,data:e.alumnos},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-table-column",{attrs:{sortable:"",field:"nombre",label:"Nombre"}},[e._v(e._s(a.row.nombre))]),t("b-table-column",{attrs:{sortable:"",field:"matricula",label:"Matrícula"}},[e._v(e._s(a.row.matricula))]),t("b-table-column",{attrs:{label:"Pago"}},[t("b-input",{attrs:{placeholder:"Pago"},model:{value:a.row.pago,callback:function(t){e.$set(a.row,"pago",t)},expression:"props.row.pago"}})],1)]}}])})],1)])},Io=[];let To={};var zo={data:()=>({grupos:[],fecha:new Date,cargando:!1,grupoSeleccionado:{},datepicker:{meses:w,dias:k},alumnos:[]}),methods:{obtenerFechaFormateada(){return $(this.fecha)},async obtenerGrupos(){this.cargando=!0,this.grupos=await D.get("/grupos"),this.grupos.length>0&&(this.grupoSeleccionado=this.grupos[0],this.onFechaOGrupoCambiado()),this.cargando=!1},async onFechaOGrupoCambiado(){this.fecha&&this.grupoSeleccionado.id&&(await this.obtenerAlumnosDeGrupoSeleccionado(),this.obtenerRegistrosDePagos())},async obtenerAlumnosDeGrupoSeleccionado(){if(!this.grupoSeleccionado.id)return;this.cargando=!0,To={};const e=await D.get("/alumnos?idGrupo=".concat(this.grupoSeleccionado.id));e.forEach((e,a)=>{e.pago="",To[e.id]=a}),this.alumnos=e,this.cargando=!1},async obtenerRegistrosDePagos(){const e=await D.get(`/pagos?idGrupo=${this.grupoSeleccionado.id}&fecha=${this.obtenerFechaFormateada()}`);e.forEach(e=>{const a=To[e.alumno.id];(a||0===a)&&this.$set(this.alumnos[a],"pago",e.pago)})},async guardarPagos(){this.cargando=!0;const e=this.alumnos.map(e=>({idAlumno:e.id,fecha:this.obtenerFechaFormateada(),pago:e.pago})),a=await D.post(`/pagos?idGrupo=${this.grupoSeleccionado.id}&fecha=${this.obtenerFechaFormateada()}`,e);this.$toast.open({message:a?"Pagos guardados":"Error guardando pagos",type:a?"is-success":"is-danger"}),this.cargando=!1}},mounted(){this.obtenerGrupos()}},Uo=zo,Ho=Object(j["a"])(Uo,Fo,Io,!1,null,null,null),Bo=Ho.exports,Lo=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h1",{staticClass:"is-size-2"},[e._v("Reporte de pagos")]),t("b-field",{attrs:{grouped:"","group-multiline":""}},[t("b-field",{attrs:{label:"Grupo"}},[t("b-select",{attrs:{placeholder:"Seleccione un grupo",loading:e.cargando},nativeOn:{change:function(a){return e.onFechasOGrupoCambiados(a)}},model:{value:e.grupoSeleccionado,callback:function(a){e.grupoSeleccionado=a},expression:"grupoSeleccionado"}},e._l(e.grupos,function(a,o){return t("option",{key:o,domProps:{value:a}},[e._v(e._s(a.nombre))])}),0)],1),t("b-field",{attrs:{label:"Desde"}},[t("b-datepicker",{attrs:{"mobile-native":!1,"day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Fecha inicio"},on:{input:e.onFechasOGrupoCambiados},model:{value:e.fechaInicio,callback:function(a){e.fechaInicio=a},expression:"fechaInicio"}})],1),t("b-field",{attrs:{label:"Hasta"}},[t("b-datepicker",{attrs:{"mobile-native":!1,"day-names":e.datepicker.dias,"month-names":e.datepicker.meses,"first-day-of-week":0,placeholder:"Fecha fin"},on:{input:e.onFechasOGrupoCambiados},model:{value:e.fechaFin,callback:function(a){e.fechaFin=a},expression:"fechaFin"}})],1),t("b-field",{attrs:{label:"."}},[t("b-button",{staticClass:"button is-primary",attrs:{loading:e.cargando},on:{click:e.imprimir}},[e._v("Imprimir")])],1)],1),t("div",{attrs:{id:"contenedorPagos"}},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("h2",[e._v("Reporte de pagos")]),t("p",[t("strong",[e._v("Desde:")]),e._v("\n                        "+e._s(e.obtenerFechaInicioFormateada())+" \n                        "),t("strong",[e._v("Hasta:")]),e._v("\n                        "+e._s(e.obtenerFechaFinFormateada())+" \n                        "),t("strong",[e._v("Grupo:")]),e._v("\n                        "+e._s(e.grupoSeleccionado.nombre)+"\n                        "),t("br")])])]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("table",[t("thead",[t("tr",[t("th",[e._v("Nombre")]),t("th",[e._v("Matrícula")]),e._l(e.fechasEncabezado,function(a,o){return t("th",{key:o},[e._v(e._s(a))])})],2)]),t("tbody",e._l(e.alumnos,function(a,o){return t("tr",{key:o},[t("td",[e._v(e._s(a.nombre))]),t("td",[e._v(e._s(a.matricula))]),e._l(a.pagos,function(a,o){return t("td",{key:o},[e._v(e._s(a.pago)+"\n                            ")])})],2)}),0)])])])])],1)])},Vo=[];let Yo={};var Jo={data:()=>({grupos:[],fechaInicio:new Date,fechaFin:new Date,cargando:!1,grupoSeleccionado:{},datepicker:{meses:w,dias:k},alumnos:[],fechasEncabezado:[]}),methods:{obtenerFechaFormateada(){return $(this.fechaInicio)},obtenerFechaInicioFormateada(){return $(this.fechaInicio)},obtenerFechaFinFormateada(){return $(this.fechaFin)},async obtenerGrupos(){this.cargando=!0,this.grupos=await D.get("/grupos"),this.grupos.length>0&&(this.grupoSeleccionado=this.grupos[0],this.onFechasOGrupoCambiados()),this.cargando=!1},async onFechasOGrupoCambiados(){this.fechaInicio&&this.fechaFin&&this.grupoSeleccionado.id&&(await this.obtenerAlumnosDeGrupoSeleccionado(),this.obtenerRegistrosDePagos())},async obtenerAlumnosDeGrupoSeleccionado(){if(!this.grupoSeleccionado.id)return;this.cargando=!0,Yo={};const e=await D.get("/alumnos?idGrupo=".concat(this.grupoSeleccionado.id));e.forEach((e,a)=>{e.pagos=[],e.totalPagos=0,Yo[e.id]=a}),this.alumnos=e,this.cargando=!1},async obtenerRegistrosDePagos(){const e=await D.get(`/pagos_rango?idGrupo=${this.grupoSeleccionado.id}&fechaInicio=${this.obtenerFechaInicioFormateada()}&fechaFin=${this.obtenerFechaFinFormateada()}`);this.fechasEncabezado=[],e.forEach(e=>{const a=Yo[e.alumno.id];if(!a&&0!==a)return;this.alumnos[a]["pagos"].push(e);let t=parseFloat(e.pago);isNaN(t)||(this.alumnos[a].totalPagos+=t),-1===this.fechasEncabezado.indexOf(e.fecha)&&this.fechasEncabezado.push(e.fecha)})},imprimir(){document.querySelectorAll("nav,input,.field,#titulo, footer, h1.is-size-2").forEach(e=>{e.classList.add("oculto-impresion")}),document.querySelector("#contenedorPagos").classList.remove("oculto-impresion"),window.print()}},mounted(){this.obtenerGrupos()}},Qo=Jo,Zo=(t("7ab8"),Object(j["a"])(Qo,Lo,Vo,!1,null,"2b4a15bf",null)),Ko=Zo.exports;s["default"].use(T["a"]);const Wo=new T["a"]({routes:[{path:"/",name:"Index",component:uo},{path:"/login",name:"Login",component:go},{path:"/grupos",name:"Grupos",component:V},{path:"/grupos/agregar",name:"AgregarGrupo",component:W},{path:"/grupos/editar/:id",name:"EditarGrupo",component:ie},{path:"/alumnos/agregar",name:"AgregarAlumno",component:ue},{path:"/alumnos/editar/:id",name:"EditarAlumno",component:De},{path:"/alumnos",name:"Alumnos",component:Me},{path:"/alumnos/edades",name:"ReporteEdades",component:_e},{path:"/materias/agregar",name:"AgregarMateria",component:qe},{path:"/materias/",name:"Materias",component:He},{path:"/materias/editar/:id",name:"EditarMateria",component:Qe},{path:"/periodos/agregar",name:"AgregarPeriodo",component:aa},{path:"/calificaciones/agregar/",name:"AgregarCalificaciones",component:na},{path:"/calificaciones/alumno/",name:"CalificacionesDeAlumno",component:fa},{path:"/boletas/alumno/",name:"BoletasDeAlumnos",component:Oa},{path:"/boletas/trasera/",name:"BoletaTrasera",component:So},{path:"/docentes/agregar/",name:"AgregarDocente",component:Fa},{path:"/docentes/",name:"MostrarDocentes",component:Ba},{path:"/docentes/editar/:id",name:"EditarDocente",component:Za},{path:"/docentes/materias",name:"MateriasDeDocentes",component:tt},{path:"/horarios/generar",name:"GenerarHorarios",component:lt},{path:"/horarios/imprimir",name:"ImprimirHorarios",component:ht},{path:"/horarios/docentes/imprimir",name:"ImprimirHorariosDeDocentes",component:Ct},{path:"/usuarios/agregar",name:"AgregarUsuario",component:kt},{path:"/usuarios/ver",name:"VerUsuarios",component:Ot},{path:"/usuarios/editar/:id",name:"CambiarPass",component:Ft},{path:"/asistencia/pasar",name:"PasarAsistencia",component:$o},{path:"/asistencia/reporte",name:"ReporteAsistencia",component:qo},{path:"/pagos",name:"Pagos",component:Bo},{path:"/reporte/pagos",name:"ReportePagos",component:Ko}]});Wo.beforeEach((e,a,t)=>{return"Login"==e.name||ei.obtenerUsuario().usuario?("Login"!=e.name?ei.$emit("mostrarMenu"):ei.$emit("ocultarMenu"),t()):t({name:"Login"})});var Xo=Wo;t.d(a,"EventBus",function(){return ei}),o["c"].add(i["k"],i["l"],i["t"],i["p"],i["o"],i["f"],i["c"],i["b"],i["a"],i["q"],i["r"],i["h"],i["i"],i["F"],i["w"],i["v"],i["d"],i["C"],i["x"],i["G"],i["s"],i["j"],i["B"],i["A"],i["m"],i["z"],i["n"],i["D"],i["u"],i["E"],i["g"],i["y"],i["e"]),s["default"].component("vue-fontawesome",r["a"]),s["default"].use(c["b"],{events:""}),c["a"].localize("es",l.a),s["default"].use(I.a,{defaultIconComponent:"vue-fontawesome",defaultIconPack:"fas"}),s["default"].filter("mayusculas",e=>(e||"").toString().toUpperCase()),s["default"].filter("numero",(e,a)=>{return"undefined"===typeof a&&(a=2),parseFloat(e).toFixed(a)}),s["default"].config.productionTip=!1;const ei=new s["default"]({data:()=>({usuario:{}}),methods:{obtenerUsuario(){return this.usuario},establecerUsuario(e){this.usuario=e,this.$emit("establecerUsuario",e)}}});new s["default"]({router:Xo,render:e=>e(q)}).$mount("#app")},6071:function(e,a,t){"use strict";var o=t("2e30"),i=t.n(o);i.a},"64a9":function(e,a,t){},"72cd":function(e,a,t){},"7a42":function(e,a,t){e.exports=t.p+"img/teamwork.b0dca153.png"},"7ab8":function(e,a,t){"use strict";var o=t("deaf"),i=t.n(o);i.a},"802c":function(e,a,t){"use strict";var o=t("72cd"),i=t.n(o);i.a},"8a65":function(e,a,t){"use strict";var o=t("210e"),i=t.n(o);i.a},b4a2:function(e,a,t){"use strict";var o=t("1d66"),i=t.n(o);i.a},bbb6:function(e,a,t){},bd30:function(e,a,t){"use strict";var o=t("c26f"),i=t.n(o);i.a},bdf6:function(e,a,t){e.exports=t.p+"img/report.802e375a.png"},c0a0:function(e,a,t){e.exports=t.p+"img/teacher.39c95d26.png"},c26f:function(e,a,t){},c320:function(e,a,t){},c564:function(e,a,t){"use strict";var o=t("557a"),i=t.n(o);i.a},cf05:function(e,a,t){e.exports=t.p+"img/logo.24ef046a.png"},deaf:function(e,a,t){},e003:function(e,a,t){e.exports=t.p+"img/printer.30e03b4f.png"},e2a5:function(e,a,t){e.exports=t.p+"img/bars-chart.ba5ca4cb.png"},e34a:function(e,a,t){"use strict";var o=t("c320"),i=t.n(o);i.a},ff4a:function(e,a,t){e.exports=t.p+"img/classroom.207af25a.png"}});
//# sourceMappingURL=app.a943cde8.js.map